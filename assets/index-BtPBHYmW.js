(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function oA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kd={exports:{}},_l={};var J_;function lA(){if(J_)return _l;J_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return _l.Fragment=t,_l.jsx=n,_l.jsxs=n,_l}var Z_;function uA(){return Z_||(Z_=1,kd.exports=lA()),kd.exports}var et=uA(),zd={exports:{}},Et={};var W_;function cA(){if(W_)return Et;W_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,F={};function nt(V,$,at){this.props=V,this.context=$,this.refs=F,this.updater=at||Z}nt.prototype.isReactComponent={},nt.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},nt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function tt(){}tt.prototype=nt.prototype;function rt(V,$,at){this.props=V,this.context=$,this.refs=F,this.updater=at||Z}var Ct=rt.prototype=new tt;Ct.constructor=rt,Y(Ct,nt.prototype),Ct.isPureReactComponent=!0;var It=Array.isArray;function Rt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(V,$,at){var lt=at.ref;return{$$typeof:r,type:V,key:$,ref:lt!==void 0?lt:null,props:at}}function M(V,$){return R(V.type,$,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(at){return $[at]})}var C=/\/+/g;function re(V,$){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):$.toString(36)}function Ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Rt,Rt):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,$,at,lt,_t){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var Pt=!1;if(V===null)Pt=!0;else switch(bt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(V.$$typeof){case r:case t:Pt=!0;break;case E:return Pt=V._init,K(Pt(V._payload),$,at,lt,_t)}}if(Pt)return _t=_t(V),Pt=lt===""?"."+re(V,0):lt,It(_t)?(at="",Pt!=null&&(at=Pt.replace(C,"$&/")+"/"),K(_t,$,at,"",function(rs){return rs})):_t!=null&&(O(_t)&&(_t=M(_t,at+(_t.key==null||V&&V.key===_t.key?"":(""+_t.key).replace(C,"$&/")+"/")+Pt)),$.push(_t)),1;Pt=0;var De=lt===""?".":lt+":";if(It(V))for(var se=0;se<V.length;se++)lt=V[se],bt=De+re(lt,se),Pt+=K(lt,$,at,bt,_t);else if(se=P(V),typeof se=="function")for(V=se.call(V),se=0;!(lt=V.next()).done;)lt=lt.value,bt=De+re(lt,se++),Pt+=K(lt,$,at,bt,_t);else if(bt==="object"){if(typeof V.then=="function")return K(Ie(V),$,at,lt,_t);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function st(V,$,at){if(V==null)return V;var lt=[],_t=0;return K(V,lt,"","",function(bt){return $.call(at,bt,_t++)}),lt}function dt(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(at){(V._status===0||V._status===-1)&&(V._status=1,V._result=at)},function(at){(V._status===0||V._status===-1)&&(V._status=2,V._result=at)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:st,forEach:function(V,$,at){st(V,function(){$.apply(this,arguments)},at)},count:function(V){var $=0;return st(V,function(){$++}),$},toArray:function(V){return st(V,function($){return $})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Et.Activity=S,Et.Children=Gt,Et.Component=nt,Et.Fragment=n,Et.Profiler=o,Et.PureComponent=rt,Et.StrictMode=s,Et.Suspense=g,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Et.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Et.cache=function(V){return function(){return V.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(V,$,at){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var lt=Y({},V.props),_t=V.key;if($!=null)for(bt in $.key!==void 0&&(_t=""+$.key),$)!b.call($,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&$.ref===void 0||(lt[bt]=$[bt]);var bt=arguments.length-2;if(bt===1)lt.children=at;else if(1<bt){for(var Pt=Array(bt),De=0;De<bt;De++)Pt[De]=arguments[De+2];lt.children=Pt}return R(V.type,_t,lt)},Et.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Et.createElement=function(V,$,at){var lt,_t={},bt=null;if($!=null)for(lt in $.key!==void 0&&(bt=""+$.key),$)b.call($,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(_t[lt]=$[lt]);var Pt=arguments.length-2;if(Pt===1)_t.children=at;else if(1<Pt){for(var De=Array(Pt),se=0;se<Pt;se++)De[se]=arguments[se+2];_t.children=De}if(V&&V.defaultProps)for(lt in Pt=V.defaultProps,Pt)_t[lt]===void 0&&(_t[lt]=Pt[lt]);return R(V,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(V){return{$$typeof:p,render:V}},Et.isValidElement=O,Et.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:dt}},Et.memo=function(V,$){return{$$typeof:y,type:V,compare:$===void 0?null:$}},Et.startTransition=function(V){var $=D.T,at={};D.T=at;try{var lt=V(),_t=D.S;_t!==null&&_t(at,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Rt,zt)}catch(bt){zt(bt)}finally{$!==null&&at.types!==null&&($.types=at.types),D.T=$}},Et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Et.use=function(V){return D.H.use(V)},Et.useActionState=function(V,$,at){return D.H.useActionState(V,$,at)},Et.useCallback=function(V,$){return D.H.useCallback(V,$)},Et.useContext=function(V){return D.H.useContext(V)},Et.useDebugValue=function(){},Et.useDeferredValue=function(V,$){return D.H.useDeferredValue(V,$)},Et.useEffect=function(V,$){return D.H.useEffect(V,$)},Et.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Et.useId=function(){return D.H.useId()},Et.useImperativeHandle=function(V,$,at){return D.H.useImperativeHandle(V,$,at)},Et.useInsertionEffect=function(V,$){return D.H.useInsertionEffect(V,$)},Et.useLayoutEffect=function(V,$){return D.H.useLayoutEffect(V,$)},Et.useMemo=function(V,$){return D.H.useMemo(V,$)},Et.useOptimistic=function(V,$){return D.H.useOptimistic(V,$)},Et.useReducer=function(V,$,at){return D.H.useReducer(V,$,at)},Et.useRef=function(V){return D.H.useRef(V)},Et.useState=function(V){return D.H.useState(V)},Et.useSyncExternalStore=function(V,$,at){return D.H.useSyncExternalStore(V,$,at)},Et.useTransition=function(){return D.H.useTransition()},Et.version="19.2.4",Et}var tv;function Mm(){return tv||(tv=1,zd.exports=cA()),zd.exports}var q=Mm();const ks=oA(q);var Bd={exports:{}},vl={},jd={exports:{}},Hd={};var ev;function hA(){return ev||(ev=1,(function(r){function t(K,st){var dt=K.length;K.push(st);t:for(;0<dt;){var zt=dt-1>>>1,Gt=K[zt];if(0<o(Gt,st))K[zt]=st,K[dt]=Gt,dt=zt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var st=K[0],dt=K.pop();if(dt!==st){K[0]=dt;t:for(var zt=0,Gt=K.length,V=Gt>>>1;zt<V;){var $=2*(zt+1)-1,at=K[$],lt=$+1,_t=K[lt];if(0>o(at,dt))lt<Gt&&0>o(_t,at)?(K[zt]=_t,K[lt]=dt,zt=lt):(K[zt]=at,K[$]=dt,zt=$);else if(lt<Gt&&0>o(_t,dt))K[zt]=_t,K[lt]=dt,zt=lt;else break t}}return st}function o(K,st){var dt=K.sortIndex-st.sortIndex;return dt!==0?dt:K.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,S=null,w=3,P=!1,Z=!1,Y=!1,F=!1,nt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function Ct(K){for(var st=n(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=K)s(y),st.sortIndex=st.expirationTime,t(g,st);else break;st=n(y)}}function It(K){if(Y=!1,Ct(K),!Z)if(n(g)!==null)Z=!0,Rt||(Rt=!0,L());else{var st=n(y);st!==null&&Ie(It,st.startTime-K)}}var Rt=!1,D=-1,b=5,R=-1;function M(){return F?!0:!(r.unstable_now()-R<b)}function O(){if(F=!1,Rt){var K=r.unstable_now();R=K;var st=!0;try{t:{Z=!1,Y&&(Y=!1,tt(D),D=-1),P=!0;var dt=w;try{e:{for(Ct(K),S=n(g);S!==null&&!(S.expirationTime>K&&M());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,w=S.priorityLevel;var Gt=zt(S.expirationTime<=K);if(K=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Ct(K),st=!0;break e}S===n(g)&&s(g),Ct(K)}else s(g);S=n(g)}if(S!==null)st=!0;else{var V=n(y);V!==null&&Ie(It,V.startTime-K),st=!1}}break t}finally{S=null,w=dt,P=!1}st=void 0}}finally{st?L():Rt=!1}}}var L;if(typeof rt=="function")L=function(){rt(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,re=C.port2;C.port1.onmessage=O,L=function(){re.postMessage(null)}}else L=function(){nt(O,0)};function Ie(K,st){D=nt(function(){K(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var st=3;break;default:st=w}var dt=w;w=st;try{return K()}finally{w=dt}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var dt=w;w=K;try{return st()}finally{w=dt}},r.unstable_scheduleCallback=function(K,st,dt){var zt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,K){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,K={id:E++,callback:st,priorityLevel:K,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>zt?(K.sortIndex=dt,t(y,K),n(g)===null&&K===n(y)&&(Y?(tt(D),D=-1):Y=!0,Ie(It,dt-zt))):(K.sortIndex=Gt,t(g,K),Z||P||(Z=!0,Rt||(Rt=!0,L()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var st=w;return function(){var dt=w;w=st;try{return K.apply(this,arguments)}finally{w=dt}}}})(Hd)),Hd}var nv;function fA(){return nv||(nv=1,jd.exports=hA()),jd.exports}var qd={exports:{}},Ye={};var iv;function dA(){if(iv)return Ye;iv=1;var r=Mm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ye.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ye.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ye.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ye.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ye.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ye.requestFormReset=function(g){s.d.r(g)},Ye.unstable_batchedUpdates=function(g,y){return g(y)},Ye.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var rv;function mA(){if(rv)return qd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),qd.exports=dA(),qd.exports}var sv;function pA(){if(sv)return vl;sv=1;var r=fA(),t=Mm(),n=mA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case nt:return"Profiler";case F:return"StrictMode";case It:return"Suspense";case Rt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case rt:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case Ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:re(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return re(e(i))}catch{}}return null}var Ie=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function V(e){return{current:e}}function $(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function at(e,i){Gt++,zt[Gt]=e.current,e.current=i}var lt=V(null),_t=V(null),bt=V(null),Pt=V(null);function De(e,i){switch(at(bt,i),at(_t,e),at(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?E_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=E_(i),e=T_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(lt),at(lt,e)}function se(){$(lt),$(_t),$(bt)}function rs(e){e.memoizedState!==null&&at(Pt,e);var i=lt.current,a=T_(i,e.type);i!==a&&(at(_t,e),at(lt,a))}function Js(e){_t.current===e&&($(lt),$(_t)),Pt.current===e&&($(Pt),ml._currentValue=dt)}var Zs,Ws;function ti(e){if(Zs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zs=i&&i[1]||"",Ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+e+Ws}var mo=!1;function ss(e,i){if(!e||mo)return"";mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function po(e,i){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return ss(e.type,!1);case 11:return ss(e.type.render,!1);case 1:return ss(e.type,!0);case 31:return ti("Activity");default:return""}}function go(e){try{var i="",a=null;do i+=po(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,zh=r.unstable_shouldYield,iu=r.unstable_requestPaint,We=r.unstable_now,as=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Bh=r.unstable_LowPriority,ru=r.unstable_IdlePriority,su=r.log,au=r.unstable_setDisableYieldValue,Pn=null,ze=null;function Tn(e){if(typeof su=="function"&&au(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var fe=Math.clz32?Math.clz32:lu,ou=Math.log,ta=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/ta|0)|0}var ei=256,os=262144,_e=4194304;function ni(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ni(l):(_&=T,_!==0?h=ni(_):a||(a=T&~e,a!==0&&(h=ni(a))))):(T=l&~d,T!==0?h=ni(T):_!==0?h=ni(_):a||(a=l&~e,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function kn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function jh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ri(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ls(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-fe(a),X=1<<G;T[G]=0,I[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&us(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function us(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function vo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Eo(e,i){var a=i&-i;return a=(a&42)!==0?1:cs(a),(a&(e.suspendedLanes|i))!==0?0:a}function cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function zn(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,xe="__reactProps$"+Bn,si="__reactContainer$"+Bn,ea="__reactEvents$"+Bn,qh="__reactListeners$"+Bn,hu="__reactHandles$"+Bn,fu="__reactResources$"+Bn,ai="__reactMarker$"+Bn;function na(e){delete e[ve],delete e[xe],delete e[ea],delete e[qh],delete e[hu]}function oi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[si]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=I_(e);e!==null;){if(a=e[ve])return a;e=I_(e)}return i}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[ve]||e[si]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function hn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function li(e){var i=e[fu];return i||(i=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ai]=!0}var To=new Set,So={};function ui(e,i){ci(e,i),ci(e+"Capture",i)}function ci(e,i){for(So[e]=i,e=0;e<i.length;e++)To.add(i[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function du(e){return ye.call(wo,e)?!0:ye.call(bo,e)?!1:Ao.test(e)?wo[e]=!0:(bo[e]=!0,!1)}function ia(e,i,a){if(du(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ro(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=cr(e)?"checked":"value";e._valueTracker=Ro(e,i,""+e[i])}}function hs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=cr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fs=/[\n"\\]/g;function nn(e){return e.replace(fs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ra(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Co(e,_,Le(i)):a!=null?Co(e,_,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function mu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function Co(e,i,a){i==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function pu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function fr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||gu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Do(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Io(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Io(e,d,i[d])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var No=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,fi=null;function ds(e){var i=Sn(e);if(i&&(e=i.stateNode)){var a=e[xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[xe]||null;if(!h)throw Error(s(90));ra(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&hs(l)}break t;case"textarea":pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&hr(e,!!a.multiple,i,!1)}}}var oa=!1;function pr(e,i,a){if(oa)return e(i,a);oa=!0;try{var l=e(i);return l}finally{if(oa=!1,(mr!==null||fi!==null)&&(cc(),mr&&(i=mr,e=fi,fi=mr=null,ds(i),e)))for(i=0;i<e.length;i++)ds(e[i])}}function Hn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(bn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ms=!1}var di=null,Oo=null,ps=null;function Vo(){if(ps)return ps;var e,i=Oo,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ps=h.slice(e,1<l?1-l:void 0)}function gs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function qn(){return!1}function Be(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vi:qn,this.isPropagationStopped=qn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Mi),gr=S({},Mi,{view:0,detail:0}),Mo=Be(gr),yr,la,pi,ua=S({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(yr=e.screenX-pi.screenX,la=e.screenY-pi.screenY):la=yr=0,pi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:la}}),xo=Be(ua),ys=S({},ua,{dataTransfer:0}),_u=Be(ys),vu=S({},gr,{relatedTarget:0}),_s=Be(vu),Lo=S({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Be(Lo),ca=S({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Be(ca),Su=S({},Mi,{data:0}),gi=Be(Su),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=wu[e])?!!i[e]:!1}function _r(){return Ru}var tn=S({},gr,{key:function(e){if(e.key){var i=Au[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cu=Be(tn),Iu=S({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=Be(Iu),c=S({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=Be(c),v=S({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),U=S({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Be(U),it=S({},Mi,{newState:0,oldState:0}),St=Be(it),de=[9,13,27,32],Ht=bn&&"CompositionEvent"in window,ae=null;bn&&"documentMode"in document&&(ae=document.documentMode);var wn=bn&&"TextEvent"in window&&!ae,yi=bn&&(!Ht||ae&&8<ae&&11>=ae),Fn=" ",Gn=!1;function vs(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function OS(e,i){switch(e){case"compositionend":return ha(i);case"keypress":return i.which!==32?null:(Gn=!0,Fn);case"textInput":return e=i.data,e===Fn&&Gn?null:e;default:return null}}function VS(e,i){if(fa)return e==="compositionend"||!Ht&&vs(e,i)?(e=Vo(),ps=Oo=di=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!MS[e.type]:i==="textarea"}function Vp(e,i,a,l){mr?fi?fi.push(l):fi=[l]:mr=l,i=yc(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Uo=null,Po=null;function xS(e){m_(e,0)}function Du(e){var i=hn(e);if(hs(i))return e}function Mp(e,i){if(e==="change")return i}var xp=!1;if(bn){var Fh;if(bn){var Gh="oninput"in document;if(!Gh){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Gh=typeof Lp.oninput=="function"}Fh=Gh}else Fh=!1;xp=Fh&&(!document.documentMode||9<document.documentMode)}function Up(){Uo&&(Uo.detachEvent("onpropertychange",Pp),Po=Uo=null)}function Pp(e){if(e.propertyName==="value"&&Du(Po)){var i=[];Vp(i,Po,e,An(e)),pr(xS,i)}}function LS(e,i,a){e==="focusin"?(Up(),Uo=i,Po=a,Uo.attachEvent("onpropertychange",Pp)):e==="focusout"&&Up()}function US(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(Po)}function PS(e,i){if(e==="click")return Du(i)}function kS(e,i){if(e==="input"||e==="change")return Du(i)}function zS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:zS;function ko(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,i){var a=kp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kp(a)}}function Bp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Bp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function jp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=hi(e.document)}return i}function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var BS=bn&&"documentMode"in document&&11>=document.documentMode,da=null,Qh=null,zo=null,Yh=!1;function Hp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||da==null||da!==hi(l)||(l=da,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&ko(zo,l)||(zo=l,l=yc(Qh,"onSelect"),0<l.length&&(i=new mi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=da)))}function Es(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ma={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Xh={},qp={};bn&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Ts(e){if(Xh[e])return Xh[e];if(!ma[e])return e;var i=ma[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in qp)return Xh[e]=i[a];return e}var Fp=Ts("animationend"),Gp=Ts("animationiteration"),Kp=Ts("animationstart"),jS=Ts("transitionrun"),HS=Ts("transitionstart"),qS=Ts("transitioncancel"),Qp=Ts("transitionend"),Yp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Kn(e,i){Yp.set(e,i),ui(i,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],pa=0,Jh=0;function Ou(){for(var e=pa,i=Jh=pa=0;i<e;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Xp(a,h,d)}}function Vu(e,i,a,l){Rn[pa++]=e,Rn[pa++]=i,Rn[pa++]=a,Rn[pa++]=l,Jh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Zh(e,i,a,l){return Vu(e,i,a,l),Mu(e)}function Ss(e,i){return Vu(e,null,null,i),Mu(e)}function Xp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Mu(e){if(50<ol)throw ol=0,ld=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ga={};function FS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,a,l){return new FS(e,i,a,l)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,i){var a=e.alternate;return a===null?(a=mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $p(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Wh(e)&&(_=1);else if(typeof e=="string")_=X1(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=mn(31,a,i,h),e.elementType=R,e.lanes=d,e;case Y:return As(a.children,h,d,i);case F:_=8,h|=24;break;case nt:return e=mn(12,a,i,h|2),e.elementType=nt,e.lanes=d,e;case It:return e=mn(13,a,i,h),e.elementType=It,e.lanes=d,e;case Rt:return e=mn(19,a,i,h),e.elementType=Rt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:_=10;break t;case tt:_=9;break t;case Ct:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=mn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function As(e,i,a,l){return e=mn(7,e,l,i),e.lanes=a,e}function tf(e,i,a){return e=mn(6,e,null,i),e.lanes=a,e}function Jp(e){var i=mn(18,null,null,0);return i.stateNode=e,i}function ef(e,i,a){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Zp=new WeakMap;function Cn(e,i){if(typeof e=="object"&&e!==null){var a=Zp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:go(i)},Zp.set(e,i),i)}return{value:e,source:i,stack:go(i)}}var ya=[],_a=0,Lu=null,Bo=0,In=[],Dn=0,vr=null,_i=1,vi="";function Ui(e,i){ya[_a++]=Bo,ya[_a++]=Lu,Lu=e,Bo=i}function Wp(e,i,a){In[Dn++]=_i,In[Dn++]=vi,In[Dn++]=vr,vr=e;var l=_i;e=vi;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,_i=1<<32-fe(i)+h|a<<h|l,vi=d+e}else _i=1<<d|a<<h|l,vi=e}function nf(e){e.return!==null&&(Ui(e,1),Wp(e,1,0))}function rf(e){for(;e===Lu;)Lu=ya[--_a],ya[_a]=null,Bo=ya[--_a],ya[_a]=null;for(;e===vr;)vr=In[--Dn],In[Dn]=null,vi=In[--Dn],In[Dn]=null,_i=In[--Dn],In[Dn]=null}function tg(e,i){In[Dn++]=_i,In[Dn++]=vi,In[Dn++]=vr,_i=i.id,vi=i.overflow,vr=e}var je=null,te=null,Ut=!1,Er=null,Nn=!1,sf=Error(s(519));function Tr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(Cn(i,e)),sf}function eg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ve]=e,i[xe]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<ul.length;a++)Nt(ul[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),fr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||__(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=jn),i=!0):i=!1,i||Tr(e,!0)}function ng(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:je=je.return}}function va(e){if(e!==je)return!1;if(!Ut)return ng(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ad(e.type,e.memoizedProps)),a=!a),a&&te&&Tr(e),ng(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=C_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=C_(e)}else i===27?(i=te,Lr(e.type)?(e=Id,Id=null,te=e):te=i):te=je?Vn(e.stateNode.nextSibling):null;return!0}function bs(){te=je=null,Ut=!1}function af(){var e=Er;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Er=null),e}function jo(e){Er===null?Er=[e]:Er.push(e)}var of=V(null),ws=null,Pi=null;function Sr(e,i,a){at(of,i._currentValue),i._currentValue=a}function ki(e){e._currentValue=of.current,$(of)}function lf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function uf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),lf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),lf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ea(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;dn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Pt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&uf(i,e,a,l),i.flags|=262144}function Uu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){ws=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return ig(ws,e)}function Pu(e,i){return ws===null&&Rs(e),ig(e,i)}function ig(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Pi=Pi.next=i;return a}var GS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},KS=r.unstable_scheduleCallback,QS=r.unstable_NormalPriority,Se={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new GS,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&KS(QS,function(){e.controller.abort()})}var qo=null,hf=0,Ta=0,Sa=null;function YS(e,i){if(qo===null){var a=qo=[];hf=0,Ta=md(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,i.then(rg,rg),i}function rg(){if(--hf===0&&qo!==null){Sa!==null&&(Sa.status="fulfilled");var e=qo;qo=null,Ta=0,Sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function XS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var sg=K.S;K.S=function(e,i){Hy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&YS(e,i),sg!==null&&sg(e,i)};var Cs=V(null);function ff(){var e=Cs.current;return e!==null?e:Wt.pooledCache}function ku(e,i){i===null?at(Cs,Cs.current):at(Cs,i.pool)}function ag(){var e=ff();return e===null?null:{parent:Se._currentValue,pool:e}}var Aa=Error(s(460)),df=Error(s(474)),zu=Error(s(542)),Bu={then:function(){}};function og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(jn,jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cg(e),e;default:if(typeof i.status=="string")i.then(jn,jn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cg(e),e}throw Ds=i,Aa}}function Is(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,Aa):a}}var Ds=null;function ug(){if(Ds===null)throw Error(s(459));var e=Ds;return Ds=null,e}function cg(e){if(e===Aa||e===zu)throw Error(s(483))}var ba=null,Fo=0;function ju(e){var i=Fo;return Fo+=1,ba===null&&(ba=[]),lg(ba,e,i)}function Go(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Hu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function hg(e){function i(x,N){if(e){var k=x.deletions;k===null?(x.deletions=[N],x.flags|=16):k.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Li(x,N),x.index=0,x.sibling=null,x}function d(x,N,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<N?(x.flags|=67108866,N):k):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,k,Q){return N===null||N.tag!==6?(N=tf(k,x.mode,Q),N.return=x,N):(N=h(N,k),N.return=x,N)}function I(x,N,k,Q){var ft=k.type;return ft===Y?G(x,N,k.props.children,Q,k.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Is(ft)===N.type)?(N=h(N,k.props),Go(N,k),N.return=x,N):(N=xu(k.type,k.key,k.props,null,x.mode,Q),Go(N,k),N.return=x,N)}function z(x,N,k,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=ef(k,x.mode,Q),N.return=x,N):(N=h(N,k.children||[]),N.return=x,N)}function G(x,N,k,Q,ft){return N===null||N.tag!==7?(N=As(k,x.mode,Q,ft),N.return=x,N):(N=h(N,k),N.return=x,N)}function X(x,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=tf(""+N,x.mode,k),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P:return k=xu(N.type,N.key,N.props,null,x.mode,k),Go(k,N),k.return=x,k;case Z:return N=ef(N,x.mode,k),N.return=x,N;case b:return N=Is(N),X(x,N,k)}if(Ie(N)||L(N))return N=As(N,x.mode,k,null),N.return=x,N;if(typeof N.then=="function")return X(x,ju(N),k);if(N.$$typeof===rt)return X(x,Pu(x,N),k);Hu(x,N)}return null}function B(x,N,k,Q){var ft=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ft!==null?null:T(x,N,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P:return k.key===ft?I(x,N,k,Q):null;case Z:return k.key===ft?z(x,N,k,Q):null;case b:return k=Is(k),B(x,N,k,Q)}if(Ie(k)||L(k))return ft!==null?null:G(x,N,k,Q,null);if(typeof k.then=="function")return B(x,N,ju(k),Q);if(k.$$typeof===rt)return B(x,N,Pu(x,k),Q);Hu(x,k)}return null}function H(x,N,k,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(k)||null,T(N,x,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return x=x.get(Q.key===null?k:Q.key)||null,I(N,x,Q,ft);case Z:return x=x.get(Q.key===null?k:Q.key)||null,z(N,x,Q,ft);case b:return Q=Is(Q),H(x,N,k,Q,ft)}if(Ie(Q)||L(Q))return x=x.get(k)||null,G(N,x,Q,ft,null);if(typeof Q.then=="function")return H(x,N,k,ju(Q),ft);if(Q.$$typeof===rt)return H(x,N,k,Pu(N,Q),ft);Hu(N,Q)}return null}function ut(x,N,k,Q){for(var ft=null,Bt=null,ct=N,wt=N=0,Vt=null;ct!==null&&wt<k.length;wt++){ct.index>wt?(Vt=ct,ct=null):Vt=ct.sibling;var jt=B(x,ct,k[wt],Q);if(jt===null){ct===null&&(ct=Vt);break}e&&ct&&jt.alternate===null&&i(x,ct),N=d(jt,N,wt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt,ct=Vt}if(wt===k.length)return a(x,ct),Ut&&Ui(x,wt),ft;if(ct===null){for(;wt<k.length;wt++)ct=X(x,k[wt],Q),ct!==null&&(N=d(ct,N,wt),Bt===null?ft=ct:Bt.sibling=ct,Bt=ct);return Ut&&Ui(x,wt),ft}for(ct=l(ct);wt<k.length;wt++)Vt=H(ct,x,wt,k[wt],Q),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?wt:Vt.key),N=d(Vt,N,wt),Bt===null?ft=Vt:Bt.sibling=Vt,Bt=Vt);return e&&ct.forEach(function(Br){return i(x,Br)}),Ut&&Ui(x,wt),ft}function pt(x,N,k,Q){if(k==null)throw Error(s(151));for(var ft=null,Bt=null,ct=N,wt=N=0,Vt=null,jt=k.next();ct!==null&&!jt.done;wt++,jt=k.next()){ct.index>wt?(Vt=ct,ct=null):Vt=ct.sibling;var Br=B(x,ct,jt.value,Q);if(Br===null){ct===null&&(ct=Vt);break}e&&ct&&Br.alternate===null&&i(x,ct),N=d(Br,N,wt),Bt===null?ft=Br:Bt.sibling=Br,Bt=Br,ct=Vt}if(jt.done)return a(x,ct),Ut&&Ui(x,wt),ft;if(ct===null){for(;!jt.done;wt++,jt=k.next())jt=X(x,jt.value,Q),jt!==null&&(N=d(jt,N,wt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return Ut&&Ui(x,wt),ft}for(ct=l(ct);!jt.done;wt++,jt=k.next())jt=H(ct,x,wt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ct.delete(jt.key===null?wt:jt.key),N=d(jt,N,wt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return e&&ct.forEach(function(aA){return i(x,aA)}),Ut&&Ui(x,wt),ft}function Zt(x,N,k,Q){if(typeof k=="object"&&k!==null&&k.type===Y&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case P:t:{for(var ft=k.key;N!==null;){if(N.key===ft){if(ft=k.type,ft===Y){if(N.tag===7){a(x,N.sibling),Q=h(N,k.props.children),Q.return=x,x=Q;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Is(ft)===N.type){a(x,N.sibling),Q=h(N,k.props),Go(Q,k),Q.return=x,x=Q;break t}a(x,N);break}else i(x,N);N=N.sibling}k.type===Y?(Q=As(k.props.children,x.mode,Q,k.key),Q.return=x,x=Q):(Q=xu(k.type,k.key,k.props,null,x.mode,Q),Go(Q,k),Q.return=x,x=Q)}return _(x);case Z:t:{for(ft=k.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(x,N.sibling),Q=h(N,k.children||[]),Q.return=x,x=Q;break t}else{a(x,N);break}else i(x,N);N=N.sibling}Q=ef(k,x.mode,Q),Q.return=x,x=Q}return _(x);case b:return k=Is(k),Zt(x,N,k,Q)}if(Ie(k))return ut(x,N,k,Q);if(L(k)){if(ft=L(k),typeof ft!="function")throw Error(s(150));return k=ft.call(k),pt(x,N,k,Q)}if(typeof k.then=="function")return Zt(x,N,ju(k),Q);if(k.$$typeof===rt)return Zt(x,N,Pu(x,k),Q);Hu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(x,N.sibling),Q=h(N,k),Q.return=x,x=Q):(a(x,N),Q=tf(k,x.mode,Q),Q.return=x,x=Q),_(x)):a(x,N)}return function(x,N,k,Q){try{Fo=0;var ft=Zt(x,N,k,Q);return ba=null,ft}catch(ct){if(ct===Aa||ct===zu)throw ct;var Bt=mn(29,ct,null,x.mode);return Bt.lanes=Q,Bt.return=x,Bt}}}var Ns=hg(!0),fg=hg(!1),Ar=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Mu(e),Xp(e,null,a),i}return Vu(e,l,i,a),Mu(e)}function Ko(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,vo(e,a)}}function gf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var yf=!1;function Qo(){if(yf){var e=Sa;if(e!==null)throw e}}function Yo(e,i,a,l){yf=!1;var h=e.updateQueue;Ar=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=I))}if(d!==null){var X=h.baseState;_=0,G=z=I=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ot&B)===B:(l&B)===B){B!==0&&B===Ta&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,pt=T;B=i;var Zt=a;switch(pt.tag){case 1:if(ut=pt.payload,typeof ut=="function"){X=ut.call(Zt,X,B);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pt.payload,B=typeof ut=="function"?ut.call(Zt,X,B):ut,B==null)break t;X=S({},X,B);break t;case 2:Ar=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,I=X):G=G.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Nr|=_,e.lanes=_,e.memoizedState=X}}function dg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function mg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dg(a[e],i)}var wa=V(null),qu=V(0);function pg(e,i){e=Qi,at(qu,e),at(wa,i),Qi=e|i.baseLanes}function _f(){at(qu,Qi),at(wa,wa.current)}function vf(){Qi=qu.current,$(wa),$(qu)}var pn=V(null),On=null;function Rr(e){var i=e.alternate;at(me,me.current&1),at(pn,e),On===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(On=e)}function Ef(e){at(me,me.current),at(pn,e),On===null&&(On=e)}function gg(e){e.tag===22?(at(me,me.current),at(pn,e),On===null&&(On=e)):Cr()}function Cr(){at(me,me.current),at(pn,pn.current)}function gn(e){$(pn),On===e&&(On=null),$(me)}var me=V(0);function Fu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Cd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zi=0,At=null,$t=null,Ae=null,Gu=!1,Ra=!1,Os=!1,Ku=0,Xo=0,Ca=null,$S=0;function ce(){throw Error(s(321))}function Tf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function Sf(e,i,a,l,h,d){return zi=d,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?Wg:Pf,Os=!1,d=a(l,h),Os=!1,Ra&&(d=_g(i,a,l,h)),yg(e),d}function yg(e){K.H=Zo;var i=$t!==null&&$t.next!==null;if(zi=0,Ae=$t=At=null,Gu=!1,Xo=0,Ca=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Uu(e)&&(be=!0))}function _g(e,i,a,l){At=e;var h=0;do{if(Ra&&(Ca=null),Xo=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=ty,d=i(a,l)}while(Ra);return d}function JS(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?$o(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),i}function Af(){var e=Ku!==0;return Ku=0,e}function bf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function wf(e){if(Gu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Gu=!1}zi=0,Ae=$t=At=null,Ra=!1,Xo=Ku=0,Ca=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Ae===null?At.memoizedState:Ae.next;if(i!==null)Ae=i,$t=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var i=Xo;return Xo+=1,Ca===null&&(Ca=[]),e=lg(Ca,e,i),i=At,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Wg:Pf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===rt)return He(e)}throw Error(s(438,String(e)))}function Rf(e){var i=null,a=At.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Qu(),At.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function Bi(e,i){return typeof i=="function"?i(e):i}function Xu(e){var i=pe();return Cf(i,$t,e)}function Cf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,z=i,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ot&X)===X:(zi&X)===X){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ta&&(G=!0);else if((zi&B)===B){z=z.next,B===Ta&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=X,_=d):I=I.next=X,At.lanes|=B,Nr|=B;X=z.action,Os&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,_=d):I=I.next=B,At.lanes|=X,Nr|=X;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=T,!dn(d,e.memoizedState)&&(be=!0,G&&(a=Sa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function If(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);dn(d,i.memoizedState)||(be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function vg(e,i,a){var l=At,h=pe(),d=Ut;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!dn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,be=!0),h=h.queue,Of(Sg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},Tg.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(zi&127)!==0||Eg(l,i,a)}return a}function Eg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=At.updateQueue,i===null?(i=Qu(),At.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Tg(e,i,a,l){i.value=a,i.getSnapshot=l,Ag(i)&&bg(e)}function Sg(e,i,a){return a(function(){Ag(i)&&bg(e)})}function Ag(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function bg(e){var i=Ss(e,2);i!==null&&un(i,e,2)}function Df(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Os){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},i}function wg(e,i,a,l){return e.baseState=a,Cf(e,$t,typeof l=="function"?l:Bi)}function ZS(e,i,a,l,h){if(Zu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Rg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Rg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),I=K.S;I!==null&&I(_,T),Cg(e,i,T)}catch(z){Nf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),Cg(e,i,d)}catch(z){Nf(e,i,z)}}function Cg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ig(e,i,l)},function(l){return Nf(e,i,l)}):Ig(e,i,a)}function Ig(e,i,a){i.status="fulfilled",i.value=a,Dg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Rg(e,a)))}function Nf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dg(i),i=i.next;while(i!==l)}e.action=null}function Dg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ng(e,i){return i}function Og(e,i){if(Ut){var a=Wt.formState;if(a!==null){t:{var l=At;if(Ut){if(te){e:{for(var h=te,d=Nn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){te=Vn(h.nextSibling),l=h.data==="F!";break t}}Tr(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:i},a.queue=l,a=$g.bind(null,At,l),l.dispatch=a,l=Df(!1),d=Uf.bind(null,At,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ZS.bind(null,At,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Vg(e){var i=pe();return Mg(i,$t,e)}function Mg(e,i,a){if(i=Cf(e,i,Ng)[0],e=Xu(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=$o(i)}catch(_){throw _===Aa?zu:_}else l=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(At.flags|=2048,Ia(9,{destroy:void 0},WS.bind(null,h,a),null)),[l,d,e]}function WS(e,i){e.action=i}function xg(e){var i=pe(),a=$t;if(a!==null)return Mg(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ia(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=At.updateQueue,i===null&&(i=Qu(),At.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Lg(){return pe().memoizedState}function $u(e,i,a,l){var h=en();At.flags|=e,h.memoizedState=Ia(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ju(e,i,a,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&Tf(l,$t.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(At.flags|=e,h.memoizedState=Ia(1|i,d,a,l))}function Ug(e,i){$u(8390656,8,e,i)}function Of(e,i){Ju(2048,8,e,i)}function t1(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=Qu(),At.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Pg(e){var i=pe().memoizedState;return t1({ref:i,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function kg(e,i){return Ju(4,2,e,i)}function zg(e,i){return Ju(4,4,e,i)}function Bg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function jg(e,i,a){a=a!=null?a.concat([e]):null,Ju(4,4,Bg.bind(null,i,e),a)}function Vf(){}function Hg(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Tf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function qg(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Tf(i,l[1]))return l[0];if(l=e(),Os){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[l,i],l}function Mf(e,i,a){return a===void 0||(zi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Fy(),At.lanes|=e,Nr|=e,a)}function Fg(e,i,a,l){return dn(a,i)?a:wa.current!==null?(e=Mf(e,a,l),dn(e,i)||(be=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Ot&261930)===0?(be=!0,e.memoizedState=a):(e=Fy(),At.lanes|=e,Nr|=e,i)}function Gg(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,Uf(e,!1,i,a);try{var I=h(),z=K.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=XS(I,l);Jo(e,i,G,vn(e))}else Jo(e,i,l,vn(e))}catch(X){Jo(e,i,{then:function(){},status:"rejected",reason:X},vn())}finally{st.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function e1(){}function xf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Kg(e).queue;Gg(e,h,i,dt,a===null?e1:function(){return Qg(e),a(l)})}function Kg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Qg(e){var i=Kg(e);i.next===null&&(i=e.alternate.memoizedState),Jo(e,i.next.queue,{},vn())}function Lf(){return He(ml)}function Yg(){return pe().memoizedState}function Xg(){return pe().memoizedState}function n1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();e=br(a);var l=wr(i,e,a);l!==null&&(un(l,i,a),Ko(l,i,a)),i={cache:cf()},e.payload=i;return}i=i.return}}function i1(e,i,a){var l=vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(e)?Jg(i,a):(a=Zh(e,i,a,l),a!==null&&(un(a,e,l),Zg(a,i,l)))}function $g(e,i,a){var l=vn();Jo(e,i,a,l)}function Jo(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))Jg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,_))return Vu(e,i,h,0),Wt===null&&Ou(),!1}catch{}if(a=Zh(e,i,h,l),a!==null)return un(a,e,l),Zg(a,i,l),!0}return!1}function Uf(e,i,a,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zu(e)){if(i)throw Error(s(479))}else i=Zh(e,a,l,2),i!==null&&un(i,e,2)}function Zu(e){var i=e.alternate;return e===At||i!==null&&i===At}function Jg(e,i){Ra=Gu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Zg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,vo(e,a)}}var Zo={readContext:He,use:Yu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Zo.useEffectEvent=ce;var Wg={readContext:He,use:Yu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Ug,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,$u(4194308,4,Bg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return $u(4194308,4,e,i)},useInsertionEffect:function(e,i){$u(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var l=e();if(Os){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=en();if(a!==void 0){var h=a(i);if(Os){Tn(!0);try{a(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=i1.bind(null,At,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Df(e);var i=e.queue,a=$g.bind(null,At,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,i){var a=en();return Mf(a,e,i)},useTransition:function(){var e=Df(!1);return e=Gg.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=At,h=en();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Ot&127)!==0||Eg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ug(Sg.bind(null,l,d,e),[e]),l.flags|=2048,Ia(9,{destroy:void 0},Tg.bind(null,l,d,a,i),null),a},useId:function(){var e=en(),i=Wt.identifierPrefix;if(Ut){var a=vi,l=_i;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ku++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$S++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Lf,useFormState:Og,useActionState:Og,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uf.bind(null,At,!0,a),a.dispatch=i,[e,i]},useMemoCache:Rf,useCacheRefresh:function(){return en().memoizedState=n1.bind(null,At)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:He,use:Yu,useCallback:Hg,useContext:He,useEffect:Of,useImperativeHandle:jg,useInsertionEffect:kg,useLayoutEffect:zg,useMemo:qg,useReducer:Xu,useRef:Lg,useState:function(){return Xu(Bi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=pe();return Fg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Xu(Bi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:$o(e),i]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Lf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,i){var a=pe();return wg(a,$t,e,i)},useMemoCache:Rf,useCacheRefresh:Xg};Pf.useEffectEvent=Pg;var ty={readContext:He,use:Yu,useCallback:Hg,useContext:He,useEffect:Of,useImperativeHandle:jg,useInsertionEffect:kg,useLayoutEffect:zg,useMemo:qg,useReducer:If,useRef:Lg,useState:function(){return If(Bi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=pe();return $t===null?Mf(a,e,i):Fg(a,$t.memoizedState,e,i)},useTransition:function(){var e=If(Bi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:$o(e),i]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Lf,useFormState:xg,useActionState:xg,useOptimistic:function(e,i){var a=pe();return $t!==null?wg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Xg};ty.useEffectEvent=Pg;function kf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=vn(),h=br(l);h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,l),i!==null&&(un(i,e,l),Ko(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=vn(),h=br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,l),i!==null&&(un(i,e,l),Ko(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=vn(),l=br(a);l.tag=2,i!=null&&(l.callback=i),i=wr(e,l,a),i!==null&&(un(i,e,a),Ko(i,e,a))}};function ey(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ko(a,l)||!ko(h,d):!0}function ny(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&zf.enqueueReplaceState(i,i.state,null)}function Vs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function iy(e){Nu(e)}function ry(e){console.error(e)}function sy(e){Nu(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ay(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(e,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function oy(e){return e=br(e),e.tag=3,e}function ly(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){ay(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ay(i,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function r1(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ea(i,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?hc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Bu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),hd(e,l,h)),!1;case 22:return a.flags|=65536,l===Bu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),hd(e,l,h)),!1}throw Error(s(435,a.tag))}return hd(e,l,h),hc(),!1}if(Ut)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==sf&&(e=Error(s(422),{cause:l}),jo(Cn(e,a)))):(l!==sf&&(i=Error(s(423),{cause:l}),jo(Cn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Cn(l,a),h=Bf(e.stateNode,l,h),gf(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),al===null?al=[d]:al.push(d),he!==4&&(he=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Bf(a.stateNode,l,e),gf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,e,a,l),gf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(s(461)),be=!1;function qe(e,i,a,l){i.child=e===null?fg(i,null,a,l):Ns(i,e.child,a,l)}function uy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Rs(i),l=Sf(e,i,a,_,d,h),T=Af(),e!==null&&!be?(bf(e,i,h),ji(e,i,h)):(Ut&&T&&nf(i),i.flags|=1,qe(e,i,l,h),i.child)}function cy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Wh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,hy(e,i,d,l,h)):(e=xu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Xf(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(_,l)&&e.ref===i.ref)return ji(e,i,h)}return i.flags|=1,e=Li(d,l),e.ref=i.ref,e.return=i,i.child=e}function hy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(ko(d,l)&&e.ref===i.ref)if(be=!1,i.pendingProps=l=d,Xf(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,ji(e,i,h)}return Hf(e,i,a,l,h)}function fy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return dy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(i,d!==null?d.cachePool:null),d!==null?pg(i,d):_f(),gg(i);else return l=i.lanes=536870912,dy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ku(i,d.cachePool),pg(i,d),Cr(),i.memoizedState=null):(e!==null&&ku(i,null),_f(),Cr());return qe(e,i,h,a),i.child}function Wo(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function dy(e,i,a,l,h){var d=ff();return d=d===null?null:{parent:Se._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ku(i,null),_f(),gg(i),e!==null&&Ea(e,i,l,!0),i.childLanes=h,null}function tc(e,i){return i=nc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function my(e,i,a){return Ns(i,e.child,null,a),e=tc(i,i.pendingProps),e.flags|=2,gn(i),i.memoizedState=null,e}function s1(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=tc(i,l),i.lanes=536870912,Wo(null,e);if(Ef(i),(e=te)?(e=R_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Jp(e),a.return=i,i.child=a,je=i,te=null)):e=null,e===null)throw Tr(i);return i.lanes=536870912,null}return tc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Ef(i),h)if(i.flags&256)i.flags&=-257,i=my(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||Ea(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(l=Wt,l!==null&&(_=Eo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ss(e,_),un(l,e,_),jf;hc(),i=my(e,i,a)}else e=d.treeContext,te=Vn(_.nextSibling),je=i,Ut=!0,Er=null,Nn=!1,e!==null&&tg(i,e),i=tc(i,l),i.flags|=4096;return i}return e=Li(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ec(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Hf(e,i,a,l,h){return Rs(i),a=Sf(e,i,a,l,void 0,h),l=Af(),e!==null&&!be?(bf(e,i,h),ji(e,i,h)):(Ut&&l&&nf(i),i.flags|=1,qe(e,i,a,h),i.child)}function py(e,i,a,l,h,d){return Rs(i),i.updateQueue=null,a=_g(i,l,a,h),yg(e),l=Af(),e!==null&&!be?(bf(e,i,d),ji(e,i,d)):(Ut&&l&&nf(i),i.flags|=1,qe(e,i,a,d),i.child)}function gy(e,i,a,l,h){if(Rs(i),i.stateNode===null){var d=ga,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},mf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):ga,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&zf.enqueueReplaceState(d,d.state,null),Yo(i,l,d,h),Qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Vs(a,T);d.props=I;var z=d.context,G=a.contextType;_=ga,typeof G=="object"&&G!==null&&(_=He(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&ny(i,d,l,_),Ar=!1;var B=i.memoizedState;d.state=B,Yo(i,l,d,h),Qo(),z=i.memoizedState,T||B!==z||Ar?(typeof X=="function"&&(kf(i,a,X,l),z=i.memoizedState),(I=Ar||ey(i,a,I,l,B,z,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,pf(e,i),_=i.memoizedProps,G=Vs(a,_),d.props=G,X=i.pendingProps,B=d.context,z=a.contextType,I=ga,typeof z=="object"&&z!==null&&(I=He(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||B!==I)&&ny(i,d,l,I),Ar=!1,B=i.memoizedState,d.state=B,Yo(i,l,d,h),Qo();var H=i.memoizedState;_!==X||B!==H||Ar||e!==null&&e.dependencies!==null&&Uu(e.dependencies)?(typeof T=="function"&&(kf(i,a,T,l),H=i.memoizedState),(G=Ar||ey(i,a,G,l,B,H,I)||e!==null&&e.dependencies!==null&&Uu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ec(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ns(i,e.child,null,h),i.child=Ns(i,null,a,h)):qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ji(e,i,h),e}function yy(e,i,a,l){return bs(),i.flags|=256,qe(e,i,a,l),i.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:ag()}}function Gf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=_n),e}function _y(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(h?Rr(i):Cr(),(e=te)?(e=R_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Jp(e),a.return=i,i.child=a,je=i,te=null)):e=null,e===null)throw Tr(i);return Cd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Cr(),h=i.mode,T=nc({mode:"hidden",children:T},h),l=As(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Ff(a),l.childLanes=Gf(e,_,a),i.memoizedState=qf,Wo(null,l)):(Rr(i),Kf(i,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Rr(i),i.flags&=-257,i=Qf(e,i,a)):i.memoizedState!==null?(Cr(),i.child=e.child,i.flags|=128,i=null):(Cr(),T=l.fallback,h=i.mode,l=nc({mode:"visible",children:l.children},h),T=As(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ns(i,e.child,null,a),l=i.child,l.memoizedState=Ff(a),l.childLanes=Gf(e,_,a),i.memoizedState=qf,i=Wo(null,l));else if(Rr(i),Cd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,jo({value:l,source:null,stack:null}),i=Qf(e,i,a)}else if(be||Ea(e,i,a,!1),_=(a&e.childLanes)!==0,be||_){if(_=Wt,_!==null&&(l=Eo(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ss(e,l),un(_,e,l),jf;Rd(T)||hc(),i=Qf(e,i,a)}else Rd(T)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,te=Vn(T.nextSibling),je=i,Ut=!0,Er=null,Nn=!1,e!==null&&tg(i,e),i=Kf(i,l.children),i.flags|=4096);return i}return h?(Cr(),T=l.fallback,h=i.mode,I=e.child,z=I.sibling,l=Li(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=Li(z,T):(T=As(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Wo(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Ff(a):(h=T.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ag(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Gf(e,_,a),i.memoizedState=qf,Wo(e.child,l)):(Rr(i),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Kf(e,i){return i=nc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function nc(e,i){return e=mn(22,e,null,i),e.lanes=0,e}function Qf(e,i,a){return Ns(i,e.child,null,a),e=Kf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function vy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),lf(e.return,i,a)}function Yf(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Ey(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=me.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,at(me,_),qe(e,i,l,a),l=Ut?Bo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,a,i);else if(e.tag===19)vy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Yf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Yf(i,!0,a,null,d,l);break;case"together":Yf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Nr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ea(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Li(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Xf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Uu(e)))}function a1(e,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),Sr(i,Se,e.memoizedState.cache),bs();break;case 27:case 5:rs(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ef(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?_y(e,i,a):(Rr(i),e=ji(e,i,a),e!==null?e.sibling:null);Rr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ea(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ey(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(me,me.current),l)break;return null;case 22:return i.lanes=0,fy(e,i,a,i.pendingProps);case 24:Sr(i,Se,e.memoizedState.cache)}return ji(e,i,a)}function Ty(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!Xf(e,a)&&(i.flags&128)===0)return be=!1,a1(e,i,a);be=(e.flags&131072)!==0}else be=!1,Ut&&(i.flags&1048576)!==0&&Wp(i,Bo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Is(i.elementType),i.type=e,typeof e=="function")Wh(e)?(l=Vs(e,l),i.tag=1,i=gy(null,i,e,l,a)):(i.tag=0,i=Hf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Ct){i.tag=11,i=uy(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=cy(null,i,e,l,a);break t}}throw i=re(e)||e,Error(s(306,i,""))}}return i;case 0:return Hf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Vs(l,i.pendingProps),gy(e,i,l,h,a);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,pf(e,i),Yo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Sr(i,Se,l),l!==d.cache&&uf(i,[Se],a,!0),Qo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=yy(e,i,l,a);break t}else if(l!==h){h=Cn(Error(s(424)),i),jo(h),i=yy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=Vn(e.firstChild),je=i,Ut=!0,Er=null,Nn=!0,a=fg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bs(),l===h){i=ji(e,i,a);break t}qe(e,i,l,a)}i=i.child}return i;case 26:return ec(e,i),e===null?(a=V_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,l=_c(bt.current).createElement(a),l[ve]=i,l[xe]=e,Fe(l,a,e),Ee(l),i.stateNode=l):i.memoizedState=V_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return rs(i),e===null&&Ut&&(l=i.stateNode=D_(i.type,i.pendingProps,bt.current),je=i,Nn=!0,h=te,Lr(i.type)?(Id=h,te=Vn(l.firstChild)):te=h),qe(e,i,i.pendingProps.children,a),ec(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((h=l=te)&&(l=U1(l,i.type,i.pendingProps,Nn),l!==null?(i.stateNode=l,je=i,te=Vn(l.firstChild),Nn=!1,h=!0):h=!1),h||Tr(i)),rs(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Ad(h,d)?l=null:_!==null&&Ad(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Sf(e,i,JS,null,null,a),ml._currentValue=h),ec(e,i),qe(e,i,l,a),i.child;case 6:return e===null&&Ut&&((e=a=te)&&(a=P1(a,i.pendingProps,Nn),a!==null?(i.stateNode=a,je=i,te=null,e=!0):e=!1),e||Tr(i)),null;case 13:return _y(e,i,a);case 4:return De(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ns(i,null,l,a):qe(e,i,l,a),i.child;case 11:return uy(e,i,i.type,i.pendingProps,a);case 7:return qe(e,i,i.pendingProps,a),i.child;case 8:return qe(e,i,i.pendingProps.children,a),i.child;case 12:return qe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Sr(i,i.type,l.value),qe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Rs(i),h=He(h),l=l(h),i.flags|=1,qe(e,i,l,a),i.child;case 14:return cy(e,i,i.type,i.pendingProps,a);case 15:return hy(e,i,i.type,i.pendingProps,a);case 19:return Ey(e,i,a);case 31:return s1(e,i,a);case 22:return fy(e,i,a,i.pendingProps);case 24:return Rs(i),l=He(Se),e===null?(h=ff(),h===null&&(h=Wt,d=cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},mf(i),Sr(i,Se,h)):((e.lanes&a)!==0&&(pf(e,i),Yo(i,null,null,a),Qo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,Se,l)):(l=d.cache,Sr(i,Se,l),l!==h.cache&&uf(i,[Se],a,!0))),qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(e){e.flags|=4}function $f(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw Ds=Bu,df}else e.flags&=-16777217}function Sy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P_(i))if(Yy())e.flags|=8192;else throw Ds=Bu,df}function ic(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?uu():536870912,e.lanes|=i,Va|=i)}function tl(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ee(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function o1(e,i,a){var l=i.pendingProps;switch(rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(i),null;case 1:return ee(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ki(Se),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(va(i)?Hi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,af())),ee(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Hi(i),d!==null?(ee(i),Sy(i,d)):(ee(i),$f(i,h,null,l,a))):d?d!==e.memoizedState?(Hi(i),ee(i),Sy(i,d)):(ee(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Hi(i),ee(i),$f(i,h,e,l,a)),null;case 27:if(Js(i),a=bt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ee(i),null}e=lt.current,va(i)?eg(i):(e=D_(h,l,a),i.stateNode=e,Hi(i))}return ee(i),null;case 5:if(Js(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ee(i),null}if(d=lt.current,va(i))eg(i);else{var _=_c(bt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ve]=i,d[xe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Hi(i)}}return ee(i),$f(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=bt.current,va(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||__(e.nodeValue,a)),e||Tr(i,!0)}else e=_c(e).createTextNode(l),e[ve]=i,i.stateNode=e}return ee(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=va(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),e=!1}else a=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(gn(i),i):(gn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ee(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(gn(i),i):(gn(i),null)}return gn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),ic(i,i.updateQueue),ee(i),null);case 4:return se(),e===null&&_d(i.stateNode.containerInfo),ee(i),null;case 10:return ki(i.type),ee(i),null;case 19:if($(me),l=i.memoizedState,l===null)return ee(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)tl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Fu(e),d!==null){for(i.flags|=128,tl(l,!1),e=d.updateQueue,i.updateQueue=e,ic(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)$p(a,e),a=a.sibling;return at(me,me.current&1|2),Ut&&Ui(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&We()>lc&&(i.flags|=128,h=!0,tl(l,!1),i.lanes=4194304)}else{if(!h)if(e=Fu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,ic(i,e),tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return ee(i),null}else 2*We()-l.renderingStartTime>lc&&a!==536870912&&(i.flags|=128,h=!0,tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,a=me.current,at(me,h?a&1|2:a&1),Ut&&Ui(i,l.treeForkCount),e):(ee(i),null);case 22:case 23:return gn(i),vf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ee(i),i.subtreeFlags&6&&(i.flags|=8192)):ee(i),a=i.updateQueue,a!==null&&ic(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&$(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(Se),ee(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function l1(e,i){switch(rf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ki(Se),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Js(i),null;case 31:if(i.memoizedState!==null){if(gn(i),i.alternate===null)throw Error(s(340));bs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(gn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));bs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(me),null;case 4:return se(),null;case 10:return ki(i.type),null;case 22:case 23:return gn(i),vf(),e!==null&&$(Cs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ki(Se),null;case 25:return null;default:return null}}function Ay(e,i){switch(rf(i),i.tag){case 3:ki(Se),se();break;case 26:case 27:case 5:Js(i);break;case 4:se();break;case 31:i.memoizedState!==null&&gn(i);break;case 13:gn(i);break;case 19:$(me);break;case 10:ki(i.type);break;case 22:case 23:gn(i),vf(),e!==null&&$(Cs);break;case 24:ki(Se)}}function el(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Ir(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(G){Yt(h,I,G)}}}l=l.next}while(l!==d)}}catch(G){Yt(i,i.return,G)}}function by(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{mg(i,a)}catch(l){Yt(e,e.return,l)}}}function wy(e,i,a){a.props=Vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function nl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Ei(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Ry(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Jf(e,i,a){try{var l=e.stateNode;N1(l,e.type,a,i),l[xe]=i}catch(h){Yt(e,e.return,h)}}function Cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jn));else if(l!==4&&(l===27&&Lr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Wf(e,i,a),e=e.sibling;e!==null;)Wf(e,i,a),e=e.sibling}function rc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Lr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rc(e,i,a),e=e.sibling;e!==null;)rc(e,i,a),e=e.sibling}function Iy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,l,a),i[ve]=e,i[xe]=a}catch(d){Yt(e,e.return,d)}}var qi=!1,we=!1,td=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function u1(e,i){if(e=e.containerInfo,Td=wc,e=jp(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,z=0,G=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=_+h),X!==d||l!==0&&X.nodeType!==3||(I=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++z===h&&(T=_),B===d&&++G===l&&(I=_),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:e,selectionRange:a},wc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ut=Vs(a.type,h);e=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function Ny(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(e,a),l&4&&el(5,a);break;case 1:if(Gi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Vs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&by(a),l&512&&nl(a,a.return);break;case 3:if(Gi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{mg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&Iy(a);case 26:case 5:Gi(e,a),i===null&&l&4&&Ry(a),l&512&&nl(a,a.return);break;case 12:Gi(e,a);break;case 31:Gi(e,a),l&4&&My(e,a);break;case 13:Gi(e,a),l&4&&xy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_1.bind(null,a),k1(e,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){i=i!==null&&i.memoizedState!==null||we,h=qi;var d=we;qi=l,(we=i)&&!d?Ki(e,a,(a.subtreeFlags&8772)!==0):Gi(e,a),qi=h,we=d}break;case 30:break;default:Gi(e,a)}}function Oy(e){var i=e.alternate;i!==null&&(e.alternate=null,Oy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&na(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,sn=!1;function Fi(e,i,a){for(a=a.child;a!==null;)Vy(e,i,a),a=a.sibling}function Vy(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:we||Ei(a,i),Fi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ei(a,i);var l=oe,h=sn;Lr(a.type)&&(oe=a.stateNode,sn=!1),Fi(e,i,a),hl(a.stateNode),oe=l,sn=h;break;case 5:we||Ei(a,i);case 6:if(l=oe,h=sn,oe=null,Fi(e,i,a),oe=l,sn=h,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:oe!==null&&(sn?(e=oe,b_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ba(e)):b_(oe,a.stateNode));break;case 4:l=oe,h=sn,oe=a.stateNode.containerInfo,sn=!0,Fi(e,i,a),oe=l,sn=h;break;case 0:case 11:case 14:case 15:Ir(2,a,i),we||Ir(4,a,i),Fi(e,i,a);break;case 1:we||(Ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wy(a,i,l)),Fi(e,i,a);break;case 21:Fi(e,i,a);break;case 22:we=(l=we)||a.memoizedState!==null,Fi(e,i,a),we=l;break;default:Fi(e,i,a)}}function My(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(a){Yt(i,i.return,a)}}}function xy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(a){Yt(i,i.return,a)}}function c1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Dy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Dy),i;default:throw Error(s(435,e.tag))}}function sc(e,i){var a=c1(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=v1.bind(null,e,l);l.then(h,h)}})}function an(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Lr(T.type)){oe=T.stateNode,sn=!1;break t}break;case 5:oe=T.stateNode,sn=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(oe===null)throw Error(s(160));Vy(d,_,h),oe=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ly(i,e),i=i.sibling}var Qn=null;function Ly(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(i,e),on(e),l&4&&(Ir(3,e,e.return),el(3,e),Ir(5,e,e.return));break;case 1:an(i,e),on(e),l&512&&(we||a===null||Ei(a,a.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Qn;if(an(i,e),on(e),l&512&&(we||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ai]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[ve]=e,Ee(d),l=d;break t;case"link":var _=L_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=L_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ve]=e,Ee(d),l=d}e.stateNode=l}else U_(h,e.type,e.stateNode);else e.stateNode=x_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?U_(h,e.type,e.stateNode):x_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:an(i,e),on(e),l&512&&(we||a===null||Ei(a,a.return)),a!==null&&l&4&&Jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(an(i,e),on(e),l&512&&(we||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ut){Yt(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(td=!0);break;case 6:if(an(i,e),on(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ut){Yt(e,e.return,ut)}}break;case 3:if(Tc=null,h=Qn,Qn=vc(i.containerInfo),an(i,e),Qn=h,on(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(i.containerInfo)}catch(ut){Yt(e,e.return,ut)}td&&(td=!1,Uy(e));break;case 4:l=Qn,Qn=vc(e.stateNode.containerInfo),an(i,e),on(e),Qn=l;break;case 12:an(i,e),on(e);break;case 31:an(i,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 13:an(i,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=qi,G=we;if(qi=z||h,we=G||I,an(i,e),we=G,qi=z,on(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||qi||we||Ms(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ut){Yt(I,I.return,ut)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ut){Yt(I,I.return,ut)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?w_(H,!0):w_(I.stateNode,!1)}catch(ut){Yt(I,I.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sc(e,a))));break;case 19:an(i,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 30:break;case 21:break;default:an(i,e),on(e)}}function on(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Cy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Zf(e);rc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var T=Zf(e);rc(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Zf(e);Wf(e,z,I);break;default:throw Error(s(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Uy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Gi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ny(e,i.alternate,i),i=i.sibling}function Ms(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),Ms(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wy(i,i.return,a),Ms(i);break;case 27:hl(i.stateNode);case 26:case 5:Ei(i,i.return),Ms(i);break;case 22:i.memoizedState===null&&Ms(i);break;case 30:Ms(i);break;default:Ms(i)}e=e.sibling}}function Ki(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(h,d,a),el(4,d);break;case 1:if(Ki(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)dg(I[h],T)}catch(z){Yt(l,l.return,z)}}a&&_&64&&by(d),nl(d,d.return);break;case 27:Iy(d);case 26:case 5:Ki(h,d,a),a&&l===null&&_&4&&Ry(d),nl(d,d.return);break;case 12:Ki(h,d,a);break;case 31:Ki(h,d,a),a&&_&4&&My(h,d);break;case 13:Ki(h,d,a),a&&_&4&&xy(h,d);break;case 22:d.memoizedState===null&&Ki(h,d,a),nl(d,d.return);break;case 30:break;default:Ki(h,d,a)}i=i.sibling}}function ed(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ho(a))}function nd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ho(e))}function Yn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Py(e,i,a,l),i=i.sibling}function Py(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Yn(e,i,a,l),h&2048&&el(9,i);break;case 1:Yn(e,i,a,l);break;case 3:Yn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){Yn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(i,i.return,I)}}else Yn(e,i,a,l);break;case 31:Yn(e,i,a,l);break;case 13:Yn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Yn(e,i,a,l):il(e,i):d._visibility&2?Yn(e,i,a,l):(d._visibility|=2,Da(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ed(_,i);break;case 24:Yn(e,i,a,l),h&2048&&nd(i.alternate,i);break;default:Yn(e,i,a,l)}}function Da(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Da(d,_,T,I,h),el(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Da(d,_,T,I,h):il(d,_):(G._visibility|=2,Da(d,_,T,I,h)),h&&z&2048&&ed(_.alternate,_);break;case 24:Da(d,_,T,I,h),h&&z&2048&&nd(_.alternate,_);break;default:Da(d,_,T,I,h)}i=i.sibling}}function il(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:il(a,l),h&2048&&ed(l.alternate,l);break;case 24:il(a,l),h&2048&&nd(l.alternate,l);break;default:il(a,l)}i=i.sibling}}var rl=8192;function Na(e,i,a){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)ky(e,i,a),e=e.sibling}function ky(e,i,a){switch(e.tag){case 26:Na(e,i,a),e.flags&rl&&e.memoizedState!==null&&$1(a,Qn,e.memoizedState,e.memoizedProps);break;case 5:Na(e,i,a);break;case 3:case 4:var l=Qn;Qn=vc(e.stateNode.containerInfo),Na(e,i,a),Qn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=rl,rl=16777216,Na(e,i,a),rl=l):Na(e,i,a));break;default:Na(e,i,a)}}function zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function sl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,jy(l,e)}zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)By(e),e=e.sibling}function By(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ac(e)):sl(e);break;default:sl(e)}}function ac(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,jy(l,e)}zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ac(i));break;default:ac(i)}e=e.sibling}}function jy(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(Oy(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var h1={getCacheForType:function(e){var i=He(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Se).controller.signal}},f1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Dt=null,Ot=0,Qt=0,yn=null,Dr=!1,Oa=!1,id=!1,Qi=0,he=0,Nr=0,xs=0,rd=0,_n=0,Va=0,al=null,ln=null,sd=!1,oc=0,Hy=0,lc=1/0,uc=null,Or=null,Oe=0,Vr=null,Ma=null,Yi=0,ad=0,od=null,qy=null,ol=0,ld=null;function vn(){return(qt&2)!==0&&Ot!==0?Ot&-Ot:K.T!==null?md():cu()}function Fy(){if(_n===0)if((Ot&536870912)===0||Ut){var e=os;os<<=1,(os&3932160)===0&&(os=262144),_n=e}else _n=536870912;return e=pn.current,e!==null&&(e.flags|=32),_n}function un(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Mr(e,Ot,_n,!1)),ls(e,a),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(xs|=a),he===4&&Mr(e,Ot,_n,!1)),Ti(e))}function Gy(e,i,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||kn(e,i),h=l?p1(e,i):cd(e,i,!0),d=l;do{if(h===0){Oa&&!l&&Mr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!d1(a)){h=cd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=al;var I=T.current.memoizedState.isDehydrated;if(I&&(xa(T,_).flags|=256),_=cd(T,_,!1),_!==2){if(id&&!I){T.errorRecoveryDisabledLanes|=d,xs|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){xa(e,0),Mr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mr(l,i,_n,!Dr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=oc+300-We(),10<h)){if(Mr(l,i,_n,!Dr),ii(l,0,!0)!==0)break t;Yi=i,l.timeoutHandle=S_(Ky.bind(null,l,a,ln,uc,sd,i,_n,xs,Va,Dr,d,"Throttled",-0,0),h);break t}Ky(l,a,ln,uc,sd,i,_n,xs,Va,Dr,d,null,-0,0)}}break}while(!0);Ti(e)}function Ky(e,i,a,l,h,d,_,T,I,z,G,X,B,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},ky(i,d,X);var ut=(d&62914560)===d?oc-We():(d&4194048)===d?Hy-We():0;if(ut=J1(X,ut),ut!==null){Yi=d,e.cancelPendingCommit=ut(t_.bind(null,e,i,d,a,l,h,_,T,I,G,X,null,B,H)),Mr(e,d,_,!z);return}}t_(e,i,d,a,l,h,_,T,I)}function d1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mr(e,i,a,l){i&=~rd,i&=~xs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&us(e,a,i)}function cc(){return(qt&6)===0?(ll(0),!1):!0}function ud(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,Pi=ws=null,wf(e),ba=null,Fo=0,e=Dt;for(;e!==null;)Ay(e.alternate,e),e=e.return;Dt=null}}function xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,M1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yi=0,ud(),Wt=e,Dt=a=Li(e.current,null),Ot=i,Qt=0,yn=null,Dr=!1,Oa=kn(e,i),id=!1,Va=_n=rd=xs=Nr=he=0,ln=al=null,sd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-fe(l),d=1<<h;i|=e[h],l&=~d}return Qi=i,Ou(),a}function Qy(e,i){At=null,K.H=Zo,i===Aa||i===zu?(i=ug(),Qt=3):i===df?(i=ug(),Qt=4):Qt=i===jf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Dt===null&&(he=1,Wu(e,Cn(i,e.current)))}function Yy(){var e=pn.current;return e===null?!0:(Ot&4194048)===Ot?On===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===On:!1}function Xy(){var e=K.H;return K.H=Zo,e===null?Zo:e}function $y(){var e=K.A;return K.A=h1,e}function hc(){he=4,Dr||(Ot&4194048)!==Ot&&pn.current!==null||(Oa=!0),(Nr&134217727)===0&&(xs&134217727)===0||Wt===null||Mr(Wt,Ot,_n,!1)}function cd(e,i,a){var l=qt;qt|=2;var h=Xy(),d=$y();(Wt!==e||Ot!==i)&&(uc=null,xa(e,i)),i=!1;var _=he;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,I=yn;switch(Qt){case 8:ud(),_=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var z=Qt;if(Qt=0,yn=null,La(e,T,I,z),a&&Oa){_=0;break t}break;default:z=Qt,Qt=0,yn=null,La(e,T,I,z)}}m1(),_=he;break}catch(G){Qy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Pi=ws=null,qt=l,K.H=h,K.A=d,Dt===null&&(Wt=null,Ot=0,Ou()),_}function m1(){for(;Dt!==null;)Jy(Dt)}function p1(e,i){var a=qt;qt|=2;var l=Xy(),h=$y();Wt!==e||Ot!==i?(uc=null,lc=We()+500,xa(e,i)):Oa=kn(e,i);t:do try{if(Qt!==0&&Dt!==null){i=Dt;var d=yn;e:switch(Qt){case 1:Qt=0,yn=null,La(e,i,d,1);break;case 2:case 9:if(og(d)){Qt=0,yn=null,Zy(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Ti(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:og(d)?(Qt=0,yn=null,Zy(i)):(Qt=0,yn=null,La(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?P_(_):T.stateNode.complete){Qt=0,yn=null;var I=T.sibling;if(I!==null)Dt=I;else{var z=T.return;z!==null?(Dt=z,fc(z)):Dt=null}break e}}Qt=0,yn=null,La(e,i,d,5);break;case 6:Qt=0,yn=null,La(e,i,d,6);break;case 8:ud(),he=6;break t;default:throw Error(s(462))}}g1();break}catch(G){Qy(e,G)}while(!0);return Pi=ws=null,K.H=l,K.A=h,qt=a,Dt!==null?0:(Wt=null,Ot=0,Ou(),he)}function g1(){for(;Dt!==null&&!zh();)Jy(Dt)}function Jy(e){var i=Ty(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,i===null?fc(e):Dt=i}function Zy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=py(a,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=py(a,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:wf(i);default:Ay(a,i),i=Dt=$p(i,Qi),i=Ty(a,i,Qi)}e.memoizedProps=e.pendingProps,i===null?fc(e):Dt=i}function La(e,i,a,l){Pi=ws=null,wf(i),ba=null,Fo=0;var h=i.return;try{if(r1(e,h,i,a,Ot)){he=1,Wu(e,Cn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;he=1,Wu(e,Cn(a,e.current)),Dt=null;return}i.flags&32768?(Ut||l===1?e=!0:Oa||(Ot&536870912)!==0?e=!1:(Dr=e=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wy(i,e)):fc(i)}function fc(e){var i=e;do{if((i.flags&32768)!==0){Wy(i,Dr);return}e=i.return;var a=o1(i.alternate,i,Qi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);he===0&&(he=5)}function Wy(e,i){do{var a=l1(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);he=6,Dt=null}function t_(e,i,a,l,h,d,_,T,I){e.cancelPendingCommit=null;do dc();while(Oe!==0);if((qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Jh,Hh(e,a,d,_,T,I),e===Wt&&(Dt=Wt=null,Ot=0),Ma=i,Vr=e,Yi=a,ad=d,od=h,qy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E1(ur,function(){return s_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=st.p,st.p=2,_=qt,qt|=4;try{u1(e,i,a)}finally{qt=_,st.p=h,K.T=l}}Oe=1,e_(),n_(),i_()}}function e_(){if(Oe===1){Oe=0;var e=Vr,i=Ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var h=qt;qt|=4;try{Ly(i,e);var d=Sd,_=jp(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Bp(T.ownerDocument.documentElement,T)){if(I!==null&&Kh(T)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ut=T.textContent.length,pt=Math.min(I.start,ut),Zt=I.end===void 0?pt:Math.min(I.end,ut);!H.extend&&pt>Zt&&(_=Zt,Zt=pt,pt=_);var x=zp(T,pt),N=zp(T,Zt);if(x&&N&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var k=X.createRange();k.setStart(x.node,x.offset),H.removeAllRanges(),pt>Zt?(H.addRange(k),H.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),H.addRange(k))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Q=X[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!Td,Sd=Td=null}finally{qt=h,st.p=l,K.T=a}}e.current=i,Oe=2}}function n_(){if(Oe===2){Oe=0;var e=Vr,i=Ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var h=qt;qt|=4;try{Ny(e,i.alternate,i)}finally{qt=h,st.p=l,K.T=a}}Oe=3}}function i_(){if(Oe===4||Oe===3){Oe=0,iu();var e=Vr,i=Ma,a=Yi,l=qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Oe=5:(Oe=0,Ma=Vr=null,r_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Oi(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=st.p,st.p=2,K.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,st.p=h}}(Yi&3)!==0&&dc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ld?ol++:(ol=0,ld=e):ol=0,ll(0)}}function r_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ho(i)))}function dc(){return e_(),n_(),i_(),s_()}function s_(){if(Oe!==5)return!1;var e=Vr,i=ad;ad=0;var a=Oi(Yi),l=K.T,h=st.p;try{st.p=32>a?32:a,K.T=null,a=od,od=null;var d=Vr,_=Yi;if(Oe=0,Ma=Vr=null,Yi=0,(qt&6)!==0)throw Error(s(331));var T=qt;if(qt|=4,By(d.current),Py(d,d.current,_,a),qt=T,ll(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,d)}catch{}return!0}finally{st.p=h,K.T=l,r_(e,i)}}function a_(e,i,a){i=Cn(a,i),i=Bf(e.stateNode,i,2),e=wr(e,i,2),e!==null&&(ls(e,2),Ti(e))}function Yt(e,i,a){if(e.tag===3)a_(e,e,a);else for(;i!==null;){if(i.tag===3){a_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){e=Cn(a,e),a=oy(2),l=wr(i,a,2),l!==null&&(ly(a,l,i,e),ls(l,2),Ti(l));break}}i=i.return}}function hd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new f1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(id=!0,h.add(a),e=y1.bind(null,e,i,a),i.then(e,e))}function y1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ot&a)===a&&(he===4||he===3&&(Ot&62914560)===Ot&&300>We()-oc?(qt&2)===0&&xa(e,0):rd|=a,Va===Ot&&(Va=0)),Ti(e)}function o_(e,i){i===0&&(i=uu()),e=Ss(e,i),e!==null&&(ls(e,i),Ti(e))}function _1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),o_(e,a)}function v1(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),o_(e,a)}function E1(e,i){return Ne(e,i)}var mc=null,Ua=null,fd=!1,pc=!1,dd=!1,xr=0;function Ti(e){e!==Ua&&e.next===null&&(Ua===null?mc=Ua=e:Ua=Ua.next=e),pc=!0,fd||(fd=!0,S1())}function ll(e,i){if(!dd&&pc){dd=!0;do for(var a=!1,l=mc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,h_(l,d))}else d=Ot,d=ii(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||kn(l,d)||(a=!0,h_(l,d));l=l.next}while(a);dd=!1}}function T1(){l_()}function l_(){pc=fd=!1;var e=0;xr!==0&&V1()&&(e=xr);for(var i=We(),a=null,l=mc;l!==null;){var h=l.next,d=u_(l,i);d===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&(Ua=a)):(a=l,(e!==0||(d&3)!==0)&&(pc=!0)),l=h}Oe!==0&&Oe!==5||ll(e),xr!==0&&(xr=0)}function u_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-fe(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=jh(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Ot,a=ii(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||kn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&lr(l),Oi(a)){case 2:case 8:a=_o;break;case 32:a=ur;break;case 268435456:a=ru;break;default:a=ur}return l=c_.bind(null,e),a=Ne(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&lr(l),e.callbackPriority=2,e.callbackNode=null,2}function c_(e,i){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(dc()&&e.callbackNode!==a)return null;var l=Ot;return l=ii(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Gy(e,l,i),u_(e,We()),e.callbackNode!=null&&e.callbackNode===a?c_.bind(null,e):null)}function h_(e,i){if(dc())return null;Gy(e,i,!0)}function S1(){x1(function(){(qt&6)!==0?Ne(yo,T1):l_()})}function md(){if(xr===0){var e=Ta;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),xr=e}return xr}function f_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function d_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function A1(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=f_((h[xe]||null).action),_=l.submitter;_&&(i=(i=_[xe]||null)?f_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new mi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xr!==0){var I=_?d_(h,_):new FormData(h);xf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?d_(h,_):new FormData(h),xf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],b1=gd.toLowerCase(),w1=gd[0].toUpperCase()+gd.slice(1);Kn(b1,"on"+w1)}Kn(Fp,"onAnimationEnd"),Kn(Gp,"onAnimationIteration"),Kn(Kp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(jS,"onTransitionRun"),Kn(HS,"onTransitionStart"),Kn(qS,"onTransitionCancel"),Kn(Qp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function m_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Nu(G)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Nu(G)}h.currentTarget=null,d=I}}}}function Nt(e,i){var a=i[ea];a===void 0&&(a=i[ea]=new Set);var l=e+"__bubble";a.has(l)||(p_(i,e,2,!1),a.add(l))}function yd(e,i,a){var l=0;i&&(l|=4),p_(a,e,l,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[gc]){e[gc]=!0,To.forEach(function(a){a!=="selectionchange"&&(R1.has(a)||yd(a,!1,e),yd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[gc]||(i[gc]=!0,yd("selectionchange",!1,i))}}function p_(e,i,a,l){switch(F_(i)){case 2:var h=tA;break;case 8:h=eA;break;default:h=Md}a=h.bind(null,i,a,e),h=void 0,!ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function vd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=oi(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}pr(function(){var z=d,G=An(a),X=[];t:{var B=Yp.get(e);if(B!==void 0){var H=mi,ut=e;switch(e){case"keypress":if(gs(a)===0)break t;case"keydown":case"keyup":H=Cu;break;case"focusin":ut="focus",H=_s;break;case"focusout":ut="blur",H=_s;break;case"beforeblur":case"afterblur":H=_s;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Fp:case Gp:case Kp:H=Eu;break;case Qp:H=A;break;case"scroll":case"scrollend":H=Mo;break;case"wheel":H=j;break;case"copy":case"cut":case"paste":H=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=xi;break;case"toggle":case"beforetoggle":H=St}var pt=(i&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),x=pt?B!==null?B+"Capture":null:B;pt=[];for(var N=z,k;N!==null;){var Q=N;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||x===null||(Q=Hn(N,x),Q!=null&&pt.push(cl(N,Q,k))),Zt)break;N=N.return}0<pt.length&&(B=new H(B,ut,null,a,G),X.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==No&&(ut=a.relatedTarget||a.fromElement)&&(oi(ut)||ut[si]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ut=a.relatedTarget||a.toElement,H=z,ut=ut?oi(ut):null,ut!==null&&(Zt=u(ut),pt=ut.tag,ut!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ut=null)):(H=null,ut=z),H!==ut)){if(pt=xo,Q="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=xi,Q="onPointerLeave",x="onPointerEnter",N="pointer"),Zt=H==null?B:hn(H),k=ut==null?B:hn(ut),B=new pt(Q,N+"leave",H,a,G),B.target=Zt,B.relatedTarget=k,Q=null,oi(G)===z&&(pt=new pt(x,N+"enter",ut,a,G),pt.target=k,pt.relatedTarget=Zt,Q=pt),Zt=Q,H&&ut)e:{for(pt=C1,x=H,N=ut,k=0,Q=x;Q;Q=pt(Q))k++;Q=0;for(var ft=N;ft;ft=pt(ft))Q++;for(;0<k-Q;)x=pt(x),k--;for(;0<Q-k;)N=pt(N),Q--;for(;k--;){if(x===N||N!==null&&x===N.alternate){pt=x;break e}x=pt(x),N=pt(N)}pt=null}else pt=null;H!==null&&g_(X,B,H,pt,!1),ut!==null&&Zt!==null&&g_(X,Zt,ut,pt,!0)}}t:{if(B=z?hn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=Mp;else if(Op(B))if(xp)Bt=kS;else{Bt=US;var ct=LS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&sa(z.elementType)&&(Bt=Mp):Bt=PS;if(Bt&&(Bt=Bt(e,z))){Vp(X,Bt,a,G);break t}ct&&ct(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Co(B,"number",B.value)}switch(ct=z?hn(z):window,e){case"focusin":(Op(ct)||ct.contentEditable==="true")&&(da=ct,Qh=z,zo=null);break;case"focusout":zo=Qh=da=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Hp(X,a,G);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":Hp(X,a,G)}var wt;if(Ht)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else fa?vs(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(yi&&a.locale!=="ko"&&(fa||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&fa&&(wt=Vo()):(di=G,Oo="value"in di?di.value:di.textContent,fa=!0)),ct=yc(z,Vt),0<ct.length&&(Vt=new gi(Vt,e,null,a,G),X.push({event:Vt,listeners:ct}),wt?Vt.data=wt:(wt=ha(a),wt!==null&&(Vt.data=wt)))),(wt=wn?OS(e,a):VS(e,a))&&(Vt=yc(z,"onBeforeInput"),0<Vt.length&&(ct=new gi("onBeforeInput","beforeinput",null,a,G),X.push({event:ct,listeners:Vt}),ct.data=wt)),A1(X,e,z,a,G)}m_(X,i)})}function cl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function yc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(e,a),h!=null&&l.unshift(cl(e,h,d)),h=Hn(e,i),h!=null&&l.push(cl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function C1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Hn(a,d),z!=null&&_.unshift(cl(a,z,I))):h||(z=Hn(a,d),z!=null&&_.push(cl(a,z,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var I1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(I1,`
`).replace(D1,"")}function __(e,i){return i=y_(i),y_(e)===i}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(e,""+l);break;case"className":fn(e,"class",l);break;case"tabIndex":fn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,a,l);break;case"style":Do(e,l,d);break;case"data":if(i!=="object"){fn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=jn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ia(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,ia(e,a,l))}}function Ed(e,i,a,l,h,d){switch(a){case"style":Do(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[xe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ia(e,a,l)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Jt(e,i,l,G,a,null)}}mu(e,d,T,I,z,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Jt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?hr(e,!!l,i,!1):a!=null&&hr(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,i,_,T,a,null)}fr(e,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,i,I,l,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<ul.length;l++)Nt(ul[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,z,l,a,null)}return;default:if(sa(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Ed(e,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,i,T,l,a,null))}function N1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||Jt(e,i,H,null,l,X)}}for(var B in l){var H=l[B];if(X=a[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&Jt(e,i,B,H,l,X)}}ra(e,_,T,I,z,G,d,h);return;case"select":H=_=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Jt(e,i,h,d,l,I)}i=T,a=_,l=H,B!=null?hr(e,!!a,B,!1):!!l!=!!a&&(i!=null?hr(e,!!a,i,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,_,h,l,d)}pu(e,B,H);return;case"option":for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:Jt(e,i,ut,null,l,B));for(I in l)B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,i,I,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Jt(e,i,pt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Jt(e,i,z,B,l,H)}return;default:if(sa(i)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&Ed(e,i,Zt,void 0,l,B);for(G in l)B=l[G],H=a[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Ed(e,i,G,B,l,H);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Jt(e,i,x,null,l,B);for(X in l)B=l[X],H=a[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||Jt(e,i,X,B,l,H)}function v_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&v_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>T)break;var G=I.transferSize,X=I.initiatorType;G&&v_(X)&&(I=I.responseEnd,_+=G*(I<T?1:(T-z)/(I-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,Sd=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function E_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ad(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bd=null;function V1(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(e){return A_.resolve(null).then(e).catch(L1)}:S_;function L1(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function b_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ba(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")hl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&hl(e.ownerDocument.body);a=h}while(a);Ba(i)}function w_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function U1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function P1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vn(e.nextSibling),e===null))return null;return e}function R_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Vn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function k1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Id=null;function C_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Vn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function I_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function D_(e,i,a){switch(i=_c(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function hl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);na(e)}var Mn=new Map,N_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=st.d;st.d={f:z1,r:B1,D:j1,C:H1,L:q1,m:F1,X:K1,S:G1,M:Q1};function z1(){var e=Xi.f(),i=cc();return e||i}function B1(e){var i=Sn(e);i!==null&&i.tag===5&&i.type==="form"?Qg(i):Xi.r(e)}var Pa=typeof document>"u"?null:document;function O_(e,i,a){var l=Pa;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function j1(e){Xi.D(e),O_("dns-prefetch",e,null)}function H1(e,i){Xi.C(e,i),O_("preconnect",e,i)}function q1(e,i,a){Xi.L(e,i,a);var l=Pa;if(l&&e&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var d=h;switch(i){case"style":d=ka(e);break;case"script":d=za(e)}Mn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Mn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(fl(d))||i==="script"&&l.querySelector(dl(d))||(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function F1(e,i){Xi.m(e,i);var a=Pa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(e)}if(!Mn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Mn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(d)))return}l=a.createElement("link"),Fe(l,"link",e),Ee(l),a.head.appendChild(l)}}}function G1(e,i,a){Xi.S(e,i,a);var l=Pa;if(l&&e){var h=li(l).hoistableStyles,d=ka(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(fl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Mn.get(d))&&Dd(e,a);var I=_=l.createElement("link");Ee(I),Fe(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ec(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function K1(e,i){Xi.X(e,i);var a=Pa;if(a&&e){var l=li(a).hoistableScripts,h=za(e),d=l.get(h);d||(d=a.querySelector(dl(h)),d||(e=S({src:e,async:!0},i),(i=Mn.get(h))&&Nd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Q1(e,i){Xi.M(e,i);var a=Pa;if(a&&e){var l=li(a).hoistableScripts,h=za(e),d=l.get(h);d||(d=a.querySelector(dl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Mn.get(h))&&Nd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function V_(e,i,a,l){var h=(h=bt.current)?vc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ka(a.href);var d=li(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(fl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),d||Y1(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ka(e){return'href="'+nn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Y1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Fe(i,"link",a),Ee(i),e.head.appendChild(i))}function za(e){return'[src="'+nn(e)+'"]'}function dl(e){return"script[async]"+e}function x_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return i.instance=l,Ee(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Fe(l,"style",h),Ec(l,a.precedence,e),i.instance=l;case"stylesheet":h=ka(a.href);var d=e.querySelector(fl(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;l=M_(a),(h=Mn.get(h))&&Dd(l,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Fe(d,"link",l),i.state.loading|=4,Ec(d,a.precedence,e),i.instance=d;case"script":return d=za(a.src),(h=e.querySelector(dl(d)))?(i.instance=h,Ee(h),h):(l=a,(h=Mn.get(d))&&(l=S({},a),Nd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ec(l,a.precedence,e));return i.instance}function Ec(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Tc=null;function L_(e,i,a){if(Tc===null){var l=new Map,h=Tc=new Map;h.set(a,l)}else h=Tc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ai]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function U_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function X1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function P_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ka(l.href),d=i.querySelector(fl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Sc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,l=M_(l),(h=Mn.get(h))&&Dd(l,h),d=d.createElement("link"),Ee(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Fe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Sc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Od=0;function J1(e,i){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Od===0&&(Od=62500*O1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Od?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ac=null;function bc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ac=new Map,i.forEach(Z1,e),Ac=null,Sc.call(e))}function Z1(e,i){if(!(i.state.loading&4)){var a=Ac.get(e);if(a)var l=a.get(null);else{a=new Map,Ac.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ml={$$typeof:rt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function W1(e,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function k_(e,i,a,l,h,d,_,T,I,z,G,X){return e=new W1(e,i,a,_,I,z,G,X,T),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),e.current=d,d.stateNode=e,i=cf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},mf(d),e}function z_(e){return e?(e=ga,e):ga}function B_(e,i,a,l,h,d){h=z_(h),l.context===null?l.context=h:l.pendingContext=h,l=br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wr(e,l,i),a!==null&&(un(a,e,i),Ko(a,e,i))}function j_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Vd(e,i){j_(e,i),(e=e.alternate)&&j_(e,i)}function H_(e){if(e.tag===13||e.tag===31){var i=Ss(e,67108864);i!==null&&un(i,e,67108864),Vd(e,67108864)}}function q_(e){if(e.tag===13||e.tag===31){var i=vn();i=cs(i);var a=Ss(e,i);a!==null&&un(a,e,i),Vd(e,i)}}var wc=!0;function tA(e,i,a,l){var h=K.T;K.T=null;var d=st.p;try{st.p=2,Md(e,i,a,l)}finally{st.p=d,K.T=h}}function eA(e,i,a,l){var h=K.T;K.T=null;var d=st.p;try{st.p=8,Md(e,i,a,l)}finally{st.p=d,K.T=h}}function Md(e,i,a,l){if(wc){var h=xd(l);if(h===null)vd(e,i,l,Rc,a),G_(e,l);else if(iA(h,e,i,a,l))l.stopPropagation();else if(G_(e,l),i&4&&-1<nA.indexOf(e)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ni(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-fe(_);T.entanglements[1]|=I,_&=~I}Ti(d),(qt&6)===0&&(lc=We()+500,ll(0))}}break;case 31:case 13:T=Ss(d,2),T!==null&&un(T,d,2),cc(),Vd(d,2)}if(d=xd(l),d===null&&vd(e,i,l,Rc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else vd(e,i,l,null,a)}}function xd(e){return e=An(e),Ld(e)}var Rc=null;function Ld(e){if(Rc=null,e=oi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Rc=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case yo:return 2;case _o:return 8;case ur:case Bh:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Ud=!1,Ur=null,Pr=null,kr=null,pl=new Map,gl=new Map,zr=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(e,i){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(i.pointerId)}}function yl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&H_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function iA(e,i,a,l,h){switch(i){case"focusin":return Ur=yl(Ur,e,i,a,l,h),!0;case"dragenter":return Pr=yl(Pr,e,i,a,l,h),!0;case"mouseover":return kr=yl(kr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return pl.set(d,yl(pl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,gl.set(d,yl(gl.get(d)||null,e,i,a,l,h)),!0}return!1}function K_(e){var i=oi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,zn(e.priority,function(){q_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,zn(e.priority,function(){q_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);No=l,a.target.dispatchEvent(l),No=null}else return i=Sn(a),i!==null&&H_(i),e.blockedOn=a,!1;i.shift()}return!0}function Q_(e,i,a){Cc(e)&&a.delete(i)}function rA(){Ud=!1,Ur!==null&&Cc(Ur)&&(Ur=null),Pr!==null&&Cc(Pr)&&(Pr=null),kr!==null&&Cc(kr)&&(kr=null),pl.forEach(Q_),gl.forEach(Q_)}function Ic(e,i){e.blockedOn===i&&(e.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rA)))}var Dc=null;function Y_(e){Dc!==e&&(Dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Ld(l||a)===null)continue;break}var d=Sn(a);d!==null&&(e.splice(i,3),i-=3,xf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ba(e){function i(I){return Ic(I,e)}Ur!==null&&Ic(Ur,e),Pr!==null&&Ic(Pr,e),kr!==null&&Ic(kr,e),pl.forEach(i),gl.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)K_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[xe]||null;if(typeof d=="function")_||Y_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[xe]||null)T=_.formAction;else if(Ld(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Y_(a)}}}function X_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Nc.prototype.render=Pd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();B_(a,l,e,i,null,null)},Nc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;B_(e.current,2,null,e,null,null),cc(),i[si]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var i=cu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,e),a===0&&K_(e)}};var $_=t.version;if($_!=="19.2.4")throw Error(s(527,$_,"19.2.4"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var sA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Pn=Oc.inject(sA),ze=Oc}catch{}}return vl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=iy,d=ry,_=sy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=k_(e,1,!1,null,null,a,l,null,h,d,_,X_),e[si]=i.current,_d(e),new Pd(i)},vl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=iy,_=ry,T=sy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=k_(e,1,!0,i,a??null,l,h,I,d,_,T,X_),i.context=z_(null),a=i.current,l=vn(),l=cs(l),h=br(l),h.callback=null,wr(a,h,l),a=l,i.current.lanes=a,ls(i,a),Ti(i),e[si]=i.current,_d(e),new Nc(i)},vl.version="19.2.4",vl}var av;function gA(){if(av)return Bd.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=pA(),Bd.exports}var yA=gA();var ov="popstate";function _A(r={}){function t(s,o){let{pathname:u,search:f,hash:p}=s.location;return am("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ml(o)}return EA(t,n,null,r)}function le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ci(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vA(){return Math.random().toString(36).substring(2,10)}function lv(r,t){return{usr:r.state,key:r.key,idx:t}}function am(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ro(t):t,state:n,key:t&&t.key||s||vA()}}function Ml({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ro(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function EA(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){p="POP";let F=E(),nt=F==null?null:F-y;y=F,g&&g({action:p,location:Y.location,delta:nt})}function w(F,nt){p="PUSH";let tt=am(Y.location,F,nt);y=E()+1;let rt=lv(tt,y),Ct=Y.createHref(tt);try{f.pushState(rt,"",Ct)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;o.location.assign(Ct)}u&&g&&g({action:p,location:Y.location,delta:1})}function P(F,nt){p="REPLACE";let tt=am(Y.location,F,nt);y=E();let rt=lv(tt,y),Ct=Y.createHref(tt);f.replaceState(rt,"",Ct),u&&g&&g({action:p,location:Y.location,delta:0})}function Z(F){return TA(F)}let Y={get action(){return p},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(ov,S),g=F,()=>{o.removeEventListener(ov,S),g=null}},createHref(F){return t(o,F)},createURL:Z,encodeLocation(F){let nt=Z(F);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:w,replace:P,go(F){return f.go(F)}};return Y}function TA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ml(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function zE(r,t,n="/"){return SA(r,t,n,!1)}function SA(r,t,n,s){let o=typeof t=="string"?ro(t):t,u=er(o.pathname||"/",n);if(u==null)return null;let f=BE(r);AA(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=xA(u);p=VA(f[g],y,s)}return p}function BE(r,t=[],n=[],s="",o=!1){let u=(f,p,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Wi([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),BE(f.children,t,w,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:NA(S,f.index),routesMeta:w})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of jE(f.path))u(f,p,!0,g)}),t}function jE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=jE(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function AA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:OA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bA=/^:[\w-]+$/,wA=3,RA=2,CA=1,IA=10,DA=-2,uv=r=>r==="*";function NA(r,t){let n=r.split("/"),s=n.length;return n.some(uv)&&(s+=DA),t&&(s+=RA),n.filter(o=>!uv(o)).reduce((o,u)=>o+(bA.test(u)?wA:u===""?CA:IA),s)}function OA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function VA(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=Jc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Jc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Wi([u,S.pathname]),pathnameBase:kA(Wi([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Wi([u,S.pathnameBase]))}return f}function Jc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=MA(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},w)=>{if(E==="*"){let Z=p[w]||"";f=u.slice(0,u.length-Z.length).replace(/(.)\/+$/,"$1")}const P=p[w];return S&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function MA(r,t=!1,n=!0){Ci(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function xA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ci(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function er(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var LA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function UA(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ro(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=cv(n.substring(1),"/"):u=cv(n,t)):u=t,{pathname:u,search:zA(s),hash:BA(o)}}function cv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PA(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function HE(r){let t=PA(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function qE(r,t,n,s=!1){let o;typeof r=="string"?o=ro(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),Fd("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),Fd("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),Fd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}p=S>=0?t[S]:"/"}let g=UA(o,p),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),kA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,BA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,jA=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function HA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function qA(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function GE(r,t){let n=r;if(typeof n!="string"||!LA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(FE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=er(f.pathname,t);f.origin===u.origin&&p!=null?n=p+f.search+f.hash:o=!0}catch{Ci(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KE=["POST","PUT","PATCH","DELETE"];new Set(KE);var FA=["GET",...KE];new Set(FA);var so=q.createContext(null);so.displayName="DataRouter";var Eh=q.createContext(null);Eh.displayName="DataRouterState";var GA=q.createContext(!1),QE=q.createContext({isTransitioning:!1});QE.displayName="ViewTransition";var KA=q.createContext(new Map);KA.displayName="Fetchers";var QA=q.createContext(null);QA.displayName="Await";var Un=q.createContext(null);Un.displayName="Navigation";var ql=q.createContext(null);ql.displayName="Location";var ar=q.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var xm=q.createContext(null);xm.displayName="RouteError";var YE="REACT_ROUTER_ERROR",YA="REDIRECT",XA="ROUTE_ERROR_RESPONSE";function $A(r){if(r.startsWith(`${YE}:${YA}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function JA(r){if(r.startsWith(`${YE}:${XA}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new jA(t.status,t.statusText,t.data)}catch{}}function ZA(r,{relative:t}={}){le(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Un),{hash:o,pathname:u,search:f}=Gl(r,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:Wi([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Fl(){return q.useContext(ql)!=null}function Ks(){return le(Fl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ql).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $E(r){q.useContext(Un).static||q.useLayoutEffect(r)}function Lm(){let{isDataRoute:r}=q.useContext(ar);return r?hb():WA()}function WA(){le(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(so),{basename:t,navigator:n}=q.useContext(Un),{matches:s}=q.useContext(ar),{pathname:o}=Ks(),u=JSON.stringify(HE(s)),f=q.useRef(!1);return $E(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(Ci(f.current,XE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=qE(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Wi([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}q.createContext(null);function Gl(r,{relative:t}={}){let{matches:n}=q.useContext(ar),{pathname:s}=Ks(),o=JSON.stringify(HE(n));return q.useMemo(()=>qE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function tb(r,t){return JE(r,t)}function JE(r,t,n,s,o){le(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Un),{matches:f}=q.useContext(ar),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",S=p&&p.route;{let tt=S&&S.path||"";WE(y,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let w=Ks(),P;if(t){let tt=typeof t=="string"?ro(t):t;le(E==="/"||tt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),P=tt}else P=w;let Z=P.pathname||"/",Y=Z;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");Y="/"+Z.replace(/^\//,"").split("/").slice(tt.length).join("/")}let F=zE(r,{pathname:Y});Ci(S||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ci(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=sb(F&&F.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:Wi([E,u.encodeLocation?u.encodeLocation(tt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:Wi([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathnameBase])})),f,n,s,o);return t&&nt?q.createElement(ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},nt):nt}function eb(){let r=cb(),t=HA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:o},n):null,f)}var nb=q.createElement(eb,null),ZE=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=JA(r.digest);n&&(r=n)}let t=r!==void 0?q.createElement(ar.Provider,{value:this.props.routeContext},q.createElement(xm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(ib,{error:r},t):t}};ZE.contextType=GA;var Gd=new WeakMap;function ib({children:r,error:t}){let{basename:n}=q.useContext(Un);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=$A(t.digest);if(s){let o=Gd.get(t);if(o)throw o;let u=GE(s.location,n);if(FE&&!Gd.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Gd.set(t,f),f}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function rb({routeContext:r,match:t,children:n}){let s=q.useContext(so);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(ar.Provider,{value:r},n)}function sb(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);le(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let p=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:w,errors:P}=n,Z=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!P||P[S.route.id]===void 0);if(S.route.lazy||Z){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:qA(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let P,Z=!1,Y=null,F=null;n&&(P=f&&S.route.id?f[S.route.id]:void 0,Y=S.route.errorElement||nb,p&&(g<0&&w===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Z=!0,F=null):g===w&&(Z=!0,F=S.route.hydrateFallbackElement||null)));let nt=t.concat(u.slice(0,w+1)),tt=()=>{let rt;return P?rt=Y:Z?rt=F:S.route.Component?rt=q.createElement(S.route.Component,null):S.route.element?rt=S.route.element:rt=E,q.createElement(rb,{match:S,routeContext:{outlet:E,matches:nt,isDataRoute:n!=null},children:rt})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?q.createElement(ZE,{location:n.location,revalidation:n.revalidation,component:Y,error:P,children:tt(),routeContext:{outlet:null,matches:nt,isDataRoute:!0},onError:y}):tt()},null)}function Um(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ab(r){let t=q.useContext(so);return le(t,Um(r)),t}function ob(r){let t=q.useContext(Eh);return le(t,Um(r)),t}function lb(r){let t=q.useContext(ar);return le(t,Um(r)),t}function Pm(r){let t=lb(r),n=t.matches[t.matches.length-1];return le(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ub(){return Pm("useRouteId")}function cb(){let r=q.useContext(xm),t=ob("useRouteError"),n=Pm("useRouteError");return r!==void 0?r:t.errors?.[n]}function hb(){let{router:r}=ab("useNavigate"),t=Pm("useNavigate"),n=q.useRef(!1);return $E(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Ci(n.current,XE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var hv={};function WE(r,t,n){!t&&!hv[r]&&(hv[r]=!0,Ci(!1,n))}q.memo(fb);function fb({routes:r,future:t,state:n,onError:s}){return JE(r,void 0,n,s,t)}function om(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function db({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){le(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof n=="string"&&(n=ro(n));let{pathname:y="/",search:E="",hash:S="",state:w=null,key:P="default"}=n,Z=q.useMemo(()=>{let Y=er(y,p);return Y==null?null:{location:{pathname:Y,search:E,hash:S,state:w,key:P},navigationType:s}},[p,y,E,S,w,P,s]);return Ci(Z!=null,`<Router basename="${p}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Z==null?null:q.createElement(Un.Provider,{value:g},q.createElement(ql.Provider,{children:t,value:Z}))}function mb({children:r,location:t}){return tb(lm(r),t)}function lm(r,t=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...t,o];if(s.type===q.Fragment){n.push.apply(n,lm(s.props.children,u));return}le(s.type===om,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=lm(s.props.children,u)),n.push(f)}),n}var zc="get",Bc="application/x-www-form-urlencoded";function Th(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function pb(r){return Th(r)&&r.tagName.toLowerCase()==="button"}function gb(r){return Th(r)&&r.tagName.toLowerCase()==="form"}function yb(r){return Th(r)&&r.tagName.toLowerCase()==="input"}function _b(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vb(r,t){return r.button===0&&(!t||t==="_self")&&!_b(r)}var Vc=null;function Eb(){if(Vc===null)try{new FormData(document.createElement("form"),0),Vc=!1}catch{Vc=!0}return Vc}var Tb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kd(r){return r!=null&&!Tb.has(r)?(Ci(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):r}function Sb(r,t){let n,s,o,u,f;if(gb(r)){let p=r.getAttribute("action");s=p?er(p,t):null,n=r.getAttribute("method")||zc,o=Kd(r.getAttribute("enctype"))||Bc,u=new FormData(r)}else if(pb(r)||yb(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?er(g,t):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||zc,o=Kd(r.getAttribute("formenctype"))||Kd(p.getAttribute("enctype"))||Bc,u=new FormData(p,r),!Eb()){let{name:y,type:E,value:S}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,S)}}else{if(Th(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zc,s=null,o=Bc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function km(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ab(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&er(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function bb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Rb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await bb(u,n);return f.links?f.links():[]}return[]}));return Nb(s.flat(1).filter(wb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Cb(r,t,{includeHydrateFallback:n}={}){return Ib(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ib(r){return[...new Set(r)]}function Db(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Nb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Db(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function tT(){let r=q.useContext(so);return km(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ob(){let r=q.useContext(Eh);return km(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zm=q.createContext(void 0);zm.displayName="FrameworkContext";function eT(){let r=q.useContext(zm);return km(r,"You must render this element inside a <HydratedRouter> element"),r}function Vb(r,t){let n=q.useContext(zm),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=nt=>{nt.forEach(tt=>{f(tt.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[r]),q.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let P=()=>{o(!0)},Z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:El(p,P),onBlur:El(g,Z),onMouseEnter:El(y,P),onMouseLeave:El(E,Z),onTouchStart:El(S,P)}]:[!1,w,{}]}function El(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Mb({page:r,...t}){let{router:n}=tT(),s=q.useMemo(()=>zE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(Lb,{page:r,matches:s,...t}):null}function xb(r){let{manifest:t,routeModules:n}=eT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Rb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Lb({page:r,matches:t,...n}){let s=Ks(),{future:o,manifest:u,routeModules:f}=eT(),{basename:p}=tT(),{loaderData:g,matches:y}=Ob(),E=q.useMemo(()=>fv(r,t,y,u,s,"data"),[r,t,y,u,s]),S=q.useMemo(()=>fv(r,t,y,u,s,"assets"),[r,t,y,u,s]),w=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Y=new Set,F=!1;if(t.forEach(tt=>{let rt=u.routes[tt.route.id];!rt||!rt.hasLoader||(!E.some(Ct=>Ct.route.id===tt.route.id)&&tt.route.id in g&&f[tt.route.id]?.shouldRevalidate||rt.hasClientLoader?F=!0:Y.add(tt.route.id))}),Y.size===0)return[];let nt=Ab(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return F&&Y.size>0&&nt.searchParams.set("_routes",t.filter(tt=>Y.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[nt.pathname+nt.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,t,r,f]),P=q.useMemo(()=>Cb(S,u),[S,u]),Z=xb(S);return q.createElement(q.Fragment,null,w.map(Y=>q.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),P.map(Y=>q.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),Z.map(({key:Y,link:F})=>q.createElement("link",{key:Y,nonce:n.nonce,...F,crossOrigin:F.crossOrigin??n.crossOrigin})))}function Ub(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Pb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pb&&(window.__reactRouterVersion="7.13.0")}catch{}function kb({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=_A({window:s,v5Compat:!0}));let u=o.current,[f,p]=q.useState({action:u.action,location:u.location}),g=q.useCallback(y=>{n===!1?p(y):q.startTransition(()=>p(y))},[n]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(db,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iT=q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},Z){let{basename:Y,unstable_useTransitions:F}=q.useContext(Un),nt=typeof y=="string"&&nT.test(y),tt=GE(y,Y);y=tt.to;let rt=ZA(y,{relative:o}),[Ct,It,Rt]=Vb(s,P),D=Hb(y,{replace:f,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:F});function b(M){t&&t(M),M.defaultPrevented||D(M)}let R=q.createElement("a",{...P,...Rt,href:tt.absoluteURL||rt,onClick:tt.isExternal||u?t:b,ref:Ub(Z,It),target:g,"data-discover":!nt&&n==="render"?"true":void 0});return Ct&&!nt?q.createElement(q.Fragment,null,R,q.createElement(Mb,{page:rt})):R});iT.displayName="Link";var zb=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...y},E){let S=Gl(f,{relative:y.relative}),w=Ks(),P=q.useContext(Eh),{navigator:Z,basename:Y}=q.useContext(Un),F=P!=null&&Qb(S)&&p===!0,nt=Z.encodeLocation?Z.encodeLocation(S).pathname:S.pathname,tt=w.pathname,rt=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(tt=tt.toLowerCase(),rt=rt?rt.toLowerCase():null,nt=nt.toLowerCase()),rt&&Y&&(rt=er(rt,Y)||rt);const Ct=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let It=tt===nt||!o&&tt.startsWith(nt)&&tt.charAt(Ct)==="/",Rt=rt!=null&&(rt===nt||!o&&rt.startsWith(nt)&&rt.charAt(nt.length)==="/"),D={isActive:It,isPending:Rt,isTransitioning:F},b=It?t:void 0,R;typeof s=="function"?R=s(D):R=[s,It?"active":null,Rt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return q.createElement(iT,{...y,"aria-current":b,className:R,ref:E,style:M,to:f,viewTransition:p},typeof g=="function"?g(D):g)});zb.displayName="NavLink";var Bb=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=zc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},Z)=>{let{unstable_useTransitions:Y}=q.useContext(Un),F=Gb(),nt=Kb(p,{relative:y}),tt=f.toLowerCase()==="get"?"get":"post",rt=typeof p=="string"&&nT.test(p),Ct=It=>{if(g&&g(It),It.defaultPrevented)return;It.preventDefault();let Rt=It.nativeEvent.submitter,D=Rt?.getAttribute("formmethod")||f,b=()=>F(Rt||It.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w});Y&&n!==!1?q.startTransition(()=>b()):b()};return q.createElement("form",{ref:Z,method:tt,action:nt,onSubmit:s?g:Ct,...P,"data-discover":!rt&&r==="render"?"true":void 0})});Bb.displayName="Form";function jb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(r){let t=q.useContext(so);return le(t,jb(r)),t}function Hb(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Lm(),E=Ks(),S=Gl(r,{relative:u});return q.useCallback(w=>{if(vb(w,t)){w.preventDefault();let P=n!==void 0?n:Ml(E)===Ml(S),Z=()=>y(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});g?q.startTransition(()=>Z()):Z()}},[E,y,S,n,s,t,r,o,u,f,p,g])}var qb=0,Fb=()=>`__${String(++qb)}__`;function Gb(){let{router:r}=rT("useSubmit"),{basename:t}=q.useContext(Un),n=ub(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,f={})=>{let{action:p,method:g,encType:y,formData:E,body:S}=Sb(u,t);if(f.navigate===!1){let w=f.fetcherKey||Fb();await s(w,n,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function Kb(r,{relative:t}={}){let{basename:n}=q.useContext(Un),s=q.useContext(ar);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Gl(r||".",{relative:t})},f=Ks();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wi([n,u.pathname])),Ml(u)}function Qb(r,{relative:t}={}){let n=q.useContext(QE);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rT("useViewTransitionState"),o=Gl(r,{relative:t});if(!n.isTransitioning)return!1;let u=er(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jc(o.pathname,f)!=null||Jc(o.pathname,u)!=null}const Yb=()=>{};var dv={};const sT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Xb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let w=(p&15)<<2|y>>6,P=y&63;g||(P=64,f||(w=64)),s.push(n[E],n[S],n[w],n[P])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(sT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Xb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||S==null)throw new $b;const w=u<<2|p>>4;if(s.push(w),y!==64){const P=p<<4&240|y>>2;if(s.push(P),S!==64){const Z=y<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jb=function(r){const t=sT(r);return aT.encodeByteArray(t,!0)},Zc=function(r){return Jb(r).replace(/\./g,"")},oT=function(r){try{return aT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Wb=()=>Zb().__FIREBASE_DEFAULTS__,tw=()=>{if(typeof process>"u"||typeof dv>"u")return;const r=dv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ew=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&oT(r[1]);return t&&JSON.parse(t)},Sh=()=>{try{return Yb()||Wb()||tw()||ew()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lT=r=>Sh()?.emulatorHosts?.[r],nw=r=>{const t=lT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},uT=()=>Sh()?.config,cT=r=>Sh()?.[`_${r}`];class iw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hT(r){return(await fetch(r,{credentials:"include"})).ok}function rw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zc(JSON.stringify(n)),Zc(JSON.stringify(f)),""].join(".")}const Rl={};function sw(){const r={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?r.emulator.push(t):r.prod.push(t);return r}function aw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let mv=!1;function fT(r,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Rl[r]===t||Rl[r]||mv)return;Rl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=sw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{mv=!0,f()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=aw(s),P=n("text"),Z=document.getElementById(P)||document.createElement("span"),Y=n("learnmore"),F=document.getElementById(Y)||document.createElement("a"),nt=n("preprendIcon"),tt=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const rt=w.element;p(rt),E(F,Y);const Ct=y();g(tt,nt),rt.append(tt,Z,F,Ct),document.body.appendChild(rt)}u?(Z.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ow(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function lw(){const r=Sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fw(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function dw(){return!lw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mw(){try{return typeof indexedDB=="object"}catch{return!1}}function pw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const gw="FirebaseError";class or extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=gw,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?yw(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new or(o,p,s)}}function yw(r,t){return r.replace(_w,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const _w=/\{\$([^}]+)}/g;function vw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function js(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(pv(u)&&pv(f)){if(!js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function pv(r){return r!==null&&typeof r=="object"}function Ql(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ew(r,t){const n=new Tw(r,t);return n.subscribe.bind(n)}class Tw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Sw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Qd(){}function En(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ls="[DEFAULT]";class Aw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new iw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ww(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bw(r){return r===Ls?void 0:r}function ww(r){return r.instantiationMode==="EAGER"}class Rw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Aw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const Cw={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},Iw=Mt.INFO,Dw={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Nw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Dw[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bm{constructor(t){this.name=t,this._logLevel=Iw,this._logHandler=Nw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Cw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const Ow=(r,t)=>t.some(n=>r instanceof n);let gv,yv;function Vw(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mw(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,um=new WeakMap,mT=new WeakMap,Yd=new WeakMap,jm=new WeakMap;function xw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Kr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&dT.set(n,r)}).catch(()=>{}),jm.set(t,r),t}function Lw(r){if(um.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});um.set(r,t)}let cm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return um.get(r);if(t==="objectStoreNames")return r.objectStoreNames||mT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Uw(r){cm=r(cm)}function Pw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Xd(this),t,...n);return mT.set(s,t.sort?t.sort():[t]),Kr(s)}:Mw().includes(r)?function(...t){return r.apply(Xd(this),t),Kr(dT.get(this))}:function(...t){return Kr(r.apply(Xd(this),t))}}function kw(r){return typeof r=="function"?Pw(r):(r instanceof IDBTransaction&&Lw(r),Ow(r,Vw())?new Proxy(r,cm):r)}function Kr(r){if(r instanceof IDBRequest)return xw(r);if(Yd.has(r))return Yd.get(r);const t=kw(r);return t!==r&&(Yd.set(r,t),jm.set(t,r)),t}const Xd=r=>jm.get(r);function zw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=Kr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Kr(f.result),g.oldVersion,g.newVersion,Kr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Bw=["get","getKey","getAll","getAllKeys","count"],jw=["put","add","delete","clear"],$d=new Map;function _v(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=jw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Bw.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return $d.set(t,u),u}Uw(r=>({...r,get:(t,n,s)=>_v(t,n)||r.get(t,n,s),has:(t,n)=>!!_v(t,n)||r.has(t,n)}));class Hw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qw(r){return r.getComponent()?.type==="VERSION"}const hm="@firebase/app",vv="0.14.7";const nr=new Bm("@firebase/app"),Fw="@firebase/app-compat",Gw="@firebase/analytics-compat",Kw="@firebase/analytics",Qw="@firebase/app-check-compat",Yw="@firebase/app-check",Xw="@firebase/auth",$w="@firebase/auth-compat",Jw="@firebase/database",Zw="@firebase/data-connect",Ww="@firebase/database-compat",tR="@firebase/functions",eR="@firebase/functions-compat",nR="@firebase/installations",iR="@firebase/installations-compat",rR="@firebase/messaging",sR="@firebase/messaging-compat",aR="@firebase/performance",oR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",hR="@firebase/storage-compat",fR="@firebase/firestore",dR="@firebase/ai",mR="@firebase/firestore-compat",pR="firebase",gR="12.8.0";const fm="[DEFAULT]",yR={[hm]:"fire-core",[Fw]:"fire-core-compat",[Kw]:"fire-analytics",[Gw]:"fire-analytics-compat",[Yw]:"fire-app-check",[Qw]:"fire-app-check-compat",[Xw]:"fire-auth",[$w]:"fire-auth-compat",[Jw]:"fire-rtdb",[Zw]:"fire-data-connect",[Ww]:"fire-rtdb-compat",[tR]:"fire-fn",[eR]:"fire-fn-compat",[nR]:"fire-iid",[iR]:"fire-iid-compat",[rR]:"fire-fcm",[sR]:"fire-fcm-compat",[aR]:"fire-perf",[oR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[hR]:"fire-gcs-compat",[fR]:"fire-fst",[mR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};const Wc=new Map,_R=new Map,dm=new Map;function Ev(r,t){try{r.container.addComponent(t)}catch(n){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function $a(r){const t=r.name;if(dm.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,r);for(const n of Wc.values())Ev(n,r);for(const n of _R.values())Ev(n,r);return!0}function Hm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Kl("app","Firebase",vR);class ER{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const oo=gR;function pT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:fm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(n||(n=uT()),!n)throw Qr.create("no-options");const u=Wc.get(o);if(u){if(js(n,u.options)&&js(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const f=new Rw(o);for(const g of dm.values())f.addComponent(g);const p=new ER(n,s,f);return Wc.set(o,p),p}function gT(r=fm){const t=Wc.get(r);if(!t&&r===fm&&uT())return pT();if(!t)throw Qr.create("no-app",{appName:r});return t}function Yr(r,t,n){let s=yR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(f.join(" "));return}$a(new Hs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const TR="firebase-heartbeat-database",SR=1,xl="firebase-heartbeat-store";let Jd=null;function yT(){return Jd||(Jd=zw(TR,SR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),Jd}async function AR(r){try{const n=(await yT()).transaction(xl),s=await n.objectStore(xl).get(_T(r));return await n.done,s}catch(t){if(t instanceof or)nr.warn(t.message);else{const n=Qr.create("idb-get",{originalErrorMessage:t?.message});nr.warn(n.message)}}}async function Tv(r,t){try{const s=(await yT()).transaction(xl,"readwrite");await s.objectStore(xl).put(t,_T(r)),await s.done}catch(n){if(n instanceof or)nr.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(s.message)}}}function _T(r){return`${r.name}!${r.options.appId}`}const bR=1024,wR=30;class RR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>wR){const o=DR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sv(),{heartbeatsToSend:n,unsentEntries:s}=CR(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return nr.warn(t),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function CR(r,t=bR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Av(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Av(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class IR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mw()?pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Av(r){return Zc(JSON.stringify({version:2,heartbeats:r})).length}function DR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function NR(r){$a(new Hs("platform-logger",t=>new Hw(t),"PRIVATE")),$a(new Hs("heartbeat",t=>new RR(t),"PRIVATE")),Yr(hm,vv,r),Yr(hm,vv,"esm2020"),Yr("fire-js","")}NR("");function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OR=vT,ET=new Kl("auth","Firebase",vT());const th=new Bm("@firebase/auth");function VR(r,...t){th.logLevel<=Mt.WARN&&th.warn(`Auth (${oo}): ${r}`,...t)}function jc(r,...t){th.logLevel<=Mt.ERROR&&th.error(`Auth (${oo}): ${r}`,...t)}function Ii(r,...t){throw Fm(r,...t)}function Zn(r,...t){return Fm(r,...t)}function qm(r,t,n){const s={...OR(),[t]:n};return new Kl("auth","Firebase",s).create(t,{appName:r.name})}function zs(r){return qm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ii(r,"argument-error"),qm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ET.create(r,...t)}function yt(r,t,...n){if(!r)throw Fm(t,...n)}function Ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jc(t),new Error(t)}function ir(r,t){r||Ji(t)}function mm(){return typeof self<"u"&&self.location?.href||""}function xR(){return bv()==="http:"||bv()==="https:"}function bv(){return typeof self<"u"&&self.location?.protocol||null}function LR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xR()||cw()||"connection"in navigator)?navigator.onLine:!0}function UR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ir(n>t,"Short delay should be less than long delay!"),this.isMobile=ow()||hw()}get(){return LR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gm(r,t){ir(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class TT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zR=new Yl(3e4,6e4);function Km(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function lo(r,t,n,s,o={}){return ST(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=Ql({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return uw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ao(r.emulatorConfig.host)&&(y.credentials="include"),TT.fetch()(await AT(r,r.config.apiHost,n,p),y)})}async function ST(r,t,n){r._canInitEmulator=!1;const s={...PR,...t};try{const o=new jR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Mc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Mc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw qm(r,E,y);Ii(r,E)}}catch(o){if(o instanceof or)throw o;Ii(r,"network-request-failed",{message:String(o)})}}async function BR(r,t,n,s,o={}){const u=await lo(r,t,n,s,o);return"mfaPendingCredential"in u&&Ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function AT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Gm(r.config,o):`${r.config.apiScheme}://${o}`;return kR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class jR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Zn(this.auth,"network-request-failed")),zR.get())})}}function Mc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Zn(r,t,s);return o.customData._tokenResponse=n,o}async function HR(r,t){return lo(r,"POST","/v1/accounts:delete",t)}async function eh(r,t){return lo(r,"POST","/v1/accounts:lookup",t)}function Cl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qR(r,t=!1){const n=En(r),s=await n.getIdToken(t),o=Qm(s);yt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Cl(Zd(o.auth_time)),issuedAtTime:Cl(Zd(o.iat)),expirationTime:Cl(Zd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zd(r){return Number(r)*1e3}function Qm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=oT(n);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wv(r){const t=Qm(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof or&&FR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function FR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class GR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const t=r.auth,n=await r.getIdToken(),s=await Ll(r,eh(t,{idToken:n}));yt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?bT(o.providerUserInfo):[],f=QR(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function KR(r){const t=En(r);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function bT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function YR(r,t){const n=await ST(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await AT(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&ao(r.emulatorConfig.host)&&(g.credentials="include"),TT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XR(r,t){return lo(r,"POST","/v2/accounts:revokeToken",Km(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const n=wv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await YR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ga;return s&&(yt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(yt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(yt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function jr(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new GR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return qR(this,t)}reload(){return KR(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(zs(this.auth));const t=await this.getIdToken();return await Ll(this,HR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:P,providerData:Z,stsTokenManager:Y}=n;yt(S&&Y,t,"internal-error");const F=Ga.fromJSON(this.name,Y);yt(typeof S=="string",t,"internal-error"),jr(s,t.name),jr(o,t.name),yt(typeof w=="boolean",t,"internal-error"),yt(typeof P=="boolean",t,"internal-error"),jr(u,t.name),jr(f,t.name),jr(p,t.name),jr(g,t.name),jr(y,t.name),jr(E,t.name);const nt=new $n({uid:S,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:F,createdAt:y,lastLoginAt:E});return Z&&Array.isArray(Z)&&(nt.providerData=Z.map(tt=>({...tt}))),g&&(nt._redirectEventId=g),nt}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ga;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await nh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];yt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new Ga;p.updateFromIdToken(s);const g=new $n({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Rv=new Map;function Zi(r){ir(r instanceof Function,"Expected a class definition");let t=Rv.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Rv.set(r,t),t)}class wT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wT.type="NONE";const Cv=wT;function Hc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ka{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await eh(this.auth,{idToken:t}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ka(Zi(Cv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Zi(Cv);const f=Hc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const w=await eh(t,{idToken:E}).catch(()=>{});if(!w)break;S=await $n._fromGetAccountInfoResponse(t,w,E)}else S=$n._fromJSON(t,E);y!==u&&(p=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ka(u,t,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ka(u,t,s))}}function Iv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(DT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OT(t))return"Blackberry";if(VT(t))return"Webos";if(CT(t))return"Safari";if((t.includes("chrome/")||IT(t))&&!t.includes("edge/"))return"Chrome";if(NT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function RT(r=Ze()){return/firefox\//i.test(r)}function CT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function IT(r=Ze()){return/crios\//i.test(r)}function DT(r=Ze()){return/iemobile/i.test(r)}function NT(r=Ze()){return/android/i.test(r)}function OT(r=Ze()){return/blackberry/i.test(r)}function VT(r=Ze()){return/webos/i.test(r)}function Ym(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function $R(r=Ze()){return Ym(r)&&!!window.navigator?.standalone}function JR(){return fw()&&document.documentMode===10}function MT(r=Ze()){return Ym(r)||NT(r)||VT(r)||OT(r)||/windows phone/i.test(r)||DT(r)}function xT(r,t=[]){let n;switch(r){case"Browser":n=Iv(Ze());break;case"Worker":n=`${Iv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${s}`}class ZR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function WR(r,t={}){return lo(r,"GET","/v2/passwordPolicy",Km(r,t))}const t2=6;class e2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??t2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class n2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new ZR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ET,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await eh(this,{idToken:t}),s=await $n._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=UR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(zs(this));const n=t?En(t):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await WR(this),n=new e2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await XR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&VR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ah(r){return En(r)}class Dv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ew(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i2(r){Xm=r}function r2(r){return Xm.loadJS(r)}function s2(){return Xm.gapiScript}function a2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function o2(r,t){const n=Hm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(js(u,t??{}))return o;Ii(o,"already-initialized")}return n.initialize({options:t})}function l2(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function u2(r,t,n){const s=Ah(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=LT(t),{host:f,port:p}=c2(t),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(js(y,s.config.emulator)&&js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ao(f)?(hT(`${u}//${f}${g}`),fT("Auth",!0)):h2()}function LT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function c2(r){const t=LT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Nv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Nv(f)}}}function Nv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function h2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class UT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,n){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Qa(r,t){return BR(r,"POST","/v1/accounts:signInWithIdp",Km(r,t))}const f2="http://localhost";class qs extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Qa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Qa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Qa(t,n)}buildRequest(){const t={requestUri:f2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ql(n)}return t}}class $m{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends $m{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends Xl{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class $i extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return $i.credential(n,s)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";class qr extends Xl{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Fr extends Xl{constructor(){super("twitter.com")}static credential(t,n){return qs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";class Ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await $n._fromIdTokenResponse(t,s,o),f=Ov(s);return new Ja({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Ov(s);return new Ja({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Ov(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ih extends or{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new ih(t,n,s,o)}}function PT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,u,t,s):u})}async function d2(r,t,n=!1){const s=await Ll(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ja._forOperation(r,"link",s)}async function m2(r,t,n=!1){const{auth:s}=r;if(Xn(s.app))return Promise.reject(zs(s));const o="reauthenticate";try{const u=await Ll(r,PT(s,o,t,r),n);yt(u.idToken,s,"internal-error");const f=Qm(u.idToken);yt(f,s,"internal-error");const{sub:p}=f;return yt(r.uid===p,s,"user-mismatch"),Ja._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ii(s,"user-mismatch"),u}}async function p2(r,t,n=!1){if(Xn(r.app))return Promise.reject(zs(r));const s="signIn",o=await PT(r,s,t),u=await Ja._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function g2(r,t,n,s){return En(r).onIdTokenChanged(t,n,s)}function y2(r,t,n){return En(r).beforeAuthStateChanged(t,n)}function _2(r,t,n,s){return En(r).onAuthStateChanged(t,n,s)}function v2(r){return En(r).signOut()}const rh="__sak";class kT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const E2=1e3,T2=10;class zT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);JR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,T2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}zT.type="LOCAL";const S2=zT;class BT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}BT.type="SESSION";const jT=BT;function A2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class bh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new bh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await A2(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function Jm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class b2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Jm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ai(){return window}function w2(r){Ai().location.href=r}function HT(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function R2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C2(){return navigator?.serviceWorker?.controller||null}function I2(){return HT()?self:null}const qT="firebaseLocalStorageDb",D2=1,sh="firebaseLocalStorage",FT="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(r,t){return r.transaction([sh],t?"readwrite":"readonly").objectStore(sh)}function N2(){const r=indexedDB.deleteDatabase(qT);return new $l(r).toPromise()}function gm(){const r=indexedDB.open(qT,D2);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(sh,{keyPath:FT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(sh)?t(s):(s.close(),await N2(),t(await gm()))})})}async function Vv(r,t,n){const s=wh(r,!0).put({[FT]:t,value:n});return new $l(s).toPromise()}async function O2(r,t){const n=wh(r,!1).get(t),s=await new $l(n).toPromise();return s===void 0?null:s.value}function Mv(r,t){const n=wh(r,!0).delete(t);return new $l(n).toPromise()}const V2=800,M2=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>M2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(I2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await R2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||C2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await Vv(t,rh,"1"),await Mv(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Vv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>O2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=wh(o,!1).getAll();return new $l(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const x2=GT;new Yl(3e4,6e4);function KT(r,t){return t?Zi(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zm extends UT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function L2(r){return p2(r.auth,new Zm(r),r.bypassAuthState)}function U2(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),m2(n,new Zm(r),r.bypassAuthState)}async function P2(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),d2(n,new Zm(r),r.bypassAuthState)}class QT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return L2;case"linkViaPopup":case"linkViaRedirect":return P2;case"reauthViaPopup":case"reauthViaRedirect":return U2;default:Ii(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const k2=new Yl(2e3,1e4);async function z2(r,t,n){if(Xn(r.app))return Promise.reject(Zn(r,"operation-not-supported-in-this-environment"));const s=Ah(r);MR(r,t,$m);const o=KT(s,n);return new Us(s,"signInViaPopup",t,o).executeNotNull()}class Us extends QT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,k2.get())};t()}}Us.currentPopupAction=null;const B2="pendingRedirect",qc=new Map;class j2 extends QT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const s=await H2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H2(r,t){const n=G2(t),s=F2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function q2(r,t){qc.set(r._key(),t)}function F2(r){return Zi(r._redirectPersistence)}function G2(r){return Hc(B2,r.config.apiKey,r.name)}async function K2(r,t,n=!1){if(Xn(r.app))return Promise.reject(zs(r));const s=Ah(r),o=KT(s,t),f=await new j2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const Q2=600*1e3;class Y2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!X2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!YT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Zn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(t))}saveEventToCache(t){this.cachedEventUids.add(xv(t)),this.lastProcessedEventTime=Date.now()}}function xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function YT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function X2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(r);default:return!1}}async function $2(r,t={}){return lo(r,"GET","/v1/projects",t)}const J2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z2=/^https?/;async function W2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $2(r);for(const n of t)try{if(tC(n))return}catch{}Ii(r,"unauthorized-domain")}function tC(r){const t=mm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Z2.test(n))return!1;if(J2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const eC=new Yl(3e4,6e4);function Lv(){const r=Ai().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nC(r){return new Promise((t,n)=>{function s(){Lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lv(),n(Zn(r,"network-request-failed"))},timeout:eC.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)s();else{const o=a2("iframefcb");return Ai()[o]=()=>{gapi.load?s():n(Zn(r,"network-request-failed"))},r2(`${s2()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function iC(r){return Fc=Fc||nC(r),Fc}const rC=new Yl(5e3,15e3),sC="__/auth/iframe",aC="emulator/auth/iframe",oC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uC(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Gm(t,aC):`https://${r.config.authDomain}/${sC}`,s={apiKey:t.apiKey,appName:r.name,v:oo},o=lC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ql(s).slice(1)}`}async function cC(r){const t=await iC(r),n=Ai().gapi;return yt(n,r,"internal-error"),t.open({where:document.body,url:uC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Zn(r,"network-request-failed"),p=Ai().setTimeout(()=>{u(f)},rC.get());function g(){Ai().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const hC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fC=500,dC=600,mC="_blank",pC="http://localhost";class Uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gC(r,t,n,s=fC,o=dC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...hC,width:s.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(p=IT(y)?mC:n),RT(y)&&(t=t||pC,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[P,Z])=>`${w}${P}=${Z},`,"");if($R(y)&&p!=="_self")return yC(t||"",p),new Uv(null);const S=window.open(t||"",p,E);yt(S,r,"popup-blocked");try{S.focus()}catch{}return new Uv(S)}function yC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const _C="__/auth/handler",vC="emulator/auth/handler",EC=encodeURIComponent("fac");async function Pv(r,t,n,s,o,u){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:oo,eventId:o};if(t instanceof $m){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",vw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof Xl){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${EC}=${encodeURIComponent(g)}`:"";return`${TC(r)}?${Ql(p).slice(1)}${y}`}function TC({config:r}){return r.emulator?Gm(r,vC):`https://${r.authDomain}/${_C}`}const Wd="webStorageSupport";class SC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=K2,this._overrideRedirectResult=q2}async _openPopup(t,n,s,o){ir(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Pv(t,n,s,mm(),o);return gC(t,u,Jm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Pv(t,n,s,mm(),o);return w2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await cC(t),s=new Y2(t);return n.register("authEvent",o=>(yt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Wd,{type:Wd},o=>{const u=o?.[0]?.[Wd];u!==void 0&&n(!!u),Ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return MT()||CT()||Ym()}}const AC=SC;var kv="@firebase/auth",zv="1.12.0";class bC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RC(r){$a(new Hs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;yt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(r)},y=new n2(s,o,u,g);return l2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),$a(new Hs("auth-internal",t=>{const n=Ah(t.getProvider("auth").getImmediate());return(s=>new bC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(kv,zv,wC(r)),Yr(kv,zv,"esm2020")}const CC=300,IC=cT("authIdTokenMaxAge")||CC;let Bv=null;const DC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>IC)return;const o=n?.token;Bv!==o&&(Bv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NC(r=gT()){const t=Hm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=o2(r,{popupRedirectResolver:AC,persistence:[x2,S2,jT]}),s=cT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=DC(u.toString());y2(n,f,()=>f(n.currentUser)),g2(n,p=>f(p))}}const o=lT("auth");return o&&u2(n,`http://${o}`),n}function OC(){return document.getElementsByTagName("head")?.[0]??document}i2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Zn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",OC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RC("Browser");var VC="firebase",MC="12.8.0";Yr(VC,MC,"app");var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,XT;(function(){var r;function t(D,b){function R(){}R.prototype=b.prototype,D.F=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,O,L){for(var C=Array(arguments.length-2),re=2;re<arguments.length;re++)C[re-2]=arguments[re];return b.prototype[O].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;O<16;++O)M[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],O=D.g[2];let L=D.g[3],C;C=b+(L^R&(O^L))+M[0]+3614090360&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(O^b&(R^O))+M[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(R^L&(b^R))+M[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(b^O&(L^b))+M[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=b+(L^R&(O^L))+M[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(O^b&(R^O))+M[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(R^L&(b^R))+M[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(b^O&(L^b))+M[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=b+(L^R&(O^L))+M[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(O^b&(R^O))+M[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(R^L&(b^R))+M[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(b^O&(L^b))+M[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=b+(L^R&(O^L))+M[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(O^b&(R^O))+M[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(R^L&(b^R))+M[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(b^O&(L^b))+M[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=b+(O^L&(R^O))+M[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(b^R))+M[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^R&(L^b))+M[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(O^L))+M[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(R^O))+M[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(b^R))+M[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^R&(L^b))+M[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(O^L))+M[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(R^O))+M[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(b^R))+M[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^R&(L^b))+M[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(O^L))+M[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(R^O))+M[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(b^R))+M[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^R&(L^b))+M[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(O^L))+M[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=b+(R^O^L)+M[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^O)+M[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^R)+M[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^b)+M[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=b+(R^O^L)+M[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^O)+M[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^R)+M[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^b)+M[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=b+(R^O^L)+M[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^O)+M[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^R)+M[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^b)+M[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=b+(R^O^L)+M[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^O)+M[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^R)+M[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^b)+M[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=b+(O^(R|~L))+M[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~O))+M[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~R))+M[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~b))+M[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=b+(O^(R|~L))+M[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~O))+M[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~R))+M[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~b))+M[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=b+(O^(R|~L))+M[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~O))+M[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~R))+M[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~b))+M[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=b+(O^(R|~L))+M[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~O))+M[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~R))+M[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const R=b-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(M[O++]=D.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<b;)if(M[O++]=D[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[b++]=this.g[R]>>>M&255;return D};function u(D,b){var R=p;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function f(D,b){this.h=b;const R=[];let M=!0;for(let O=D.length-1;O>=0;O--){const L=D[O]|0;M&&L==b||(R[O]=L,M=!1)}this.g=R}var p={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return F(y(-D));const b=[];let R=1;for(let M=0;D>=R;M++)b[M]=D/R|0,R*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return F(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let M=S;for(let L=0;L<D.length;L+=8){var O=Math.min(8,D.length-L);const C=parseInt(D.substring(L,L+O),b);O<8?(O=y(Math.pow(b,O)),M=M.j(O).add(y(C))):(M=M.j(R),M=M.add(y(C)))}return M}var S=g(0),w=g(1),P=g(16777216);r=f.prototype,r.m=function(){if(Y(this))return-F(this).m();let D=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Z(this))return"0";if(Y(this))return"-"+F(this).toString(D);const b=y(Math.pow(D,6));var R=this;let M="";for(;;){const O=Ct(R,b).g;R=nt(R,O.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=O,Z(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Z(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function Y(D){return D.h==-1}r.l=function(D){return D=nt(this,D),Y(D)?-1:Z(D)?0:1};function F(D){const b=D.g.length,R=[];for(let M=0;M<b;M++)R[M]=~D.g[M];return new f(R,~D.h).add(w)}r.abs=function(){return Y(this)?F(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let O=0;O<=b;O++){let L=M+(this.i(O)&65535)+(D.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);M=C>>>16,L&=65535,C&=65535,R[O]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function nt(D,b){return D.add(F(b))}r.j=function(D){if(Z(this)||Z(D))return S;if(Y(this))return Y(D)?F(this).j(F(D)):F(F(this).j(D));if(Y(D))return F(this.j(F(D)));if(this.l(P)<0&&D.l(P)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<D.g.length;O++){const L=this.i(M)>>>16,C=this.i(M)&65535,re=D.i(O)>>>16,Ie=D.i(O)&65535;R[2*M+2*O]+=C*Ie,tt(R,2*M+2*O),R[2*M+2*O+1]+=L*Ie,tt(R,2*M+2*O+1),R[2*M+2*O+1]+=C*re,tt(R,2*M+2*O+1),R[2*M+2*O+2]+=L*re,tt(R,2*M+2*O+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new f(R,0)};function tt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function rt(D,b){this.g=D,this.h=b}function Ct(D,b){if(Z(b))throw Error("division by zero");if(Z(D))return new rt(S,S);if(Y(D))return b=Ct(F(D),b),new rt(F(b.g),F(b.h));if(Y(b))return b=Ct(D,F(b)),new rt(F(b.g),b.h);if(D.g.length>30){if(Y(D)||Y(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=b;M.l(D)<=0;)R=It(R),M=It(M);var O=Rt(R,1),L=Rt(M,1);for(M=Rt(M,2),R=Rt(R,2);!Z(M);){var C=L.add(M);C.l(D)<=0&&(O=O.add(R),L=C),M=Rt(M,1),R=Rt(R,1)}return b=nt(D,O.j(b)),new rt(O,b)}for(O=S;D.l(b)>=0;){for(R=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(R),C=L.j(b);Y(C)||C.l(D)>0;)R-=M,L=y(R),C=L.j(b);Z(L)&&(L=w),O=O.add(L),D=nt(D,C)}return new rt(O,D)}r.B=function(D){return Ct(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&D.i(M);return new f(R,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|D.i(M);return new f(R,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^D.i(M);return new f(R,this.h^D.h)};function It(D){const b=D.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(R,D.h)}function Rt(D,b){const R=b>>5;b%=32;const M=D.g.length-R,O=[];for(let L=0;L<M;L++)O[L]=b>0?D.i(L+R)>>>b|D.i(L+R+1)<<32-b:D.i(L+R);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,XT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Xr=f}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $T,Sl,JT,Gc,ym,ZT,WT,t0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,j){for(var it=Array(arguments.length-2),St=2;St<arguments.length;St++)it[St-2]=arguments[St];return m.prototype[U].apply(A,it)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function Z(c,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const j=U.length||0;c.length=v+j;for(let it=0;it<j;it++)c[v+it]=U[it]}else c.push(U)}}class Y{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(c){f.setTimeout(()=>{throw c},0)}function nt(){var c=D;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class tt{constructor(){this.h=this.g=null}add(m,v){const A=rt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var rt=new Y(()=>new Ct,c=>c.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,Rt=!1,D=new tt,b=()=>{const c=Promise.resolve(void 0);It=()=>{c.then(R)}};function R(){for(var c;c=nt();){try{c.h.call(c.g)}catch(v){F(v)}var m=rt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Rt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function re(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(re,O),re.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),K=0;function st(c,m,v,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++K,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Gt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function V(c){const m={};for(const v in c)m[v]=c[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(c,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let j=0;j<$.length;j++)v=$[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,m,v,A,U){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const it=bt(c,m,A,U);return it>-1?(m=c[it],v||(m.fa=!1)):(m=new st(m,this.src,j,!!A,U),m.fa=v,c.push(m)),m};function _t(c,m){const v=m.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(A,U,1),j&&(dt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,m,v,A){for(let U=0;U<c.length;++U){const j=c[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==A)return U}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),De={};function se(c,m,v,A,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)se(c,m[j],v,A,U);return null}return v=go(v),c&&c[Ie]?c.J(m,v,p(A)?!!A.capture:!1,U):rs(c,m,v,!1,A,U)}function rs(c,m,v,A,U,j){if(!m)throw Error("Invalid event type");const it=p(U)?!!U.capture:!!U;let St=ss(c);if(St||(c[Pt]=St=new lt(c)),v=St.add(m,v,A,it,j),v.proxy)return v;if(A=Js(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(U=it),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(ti(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Js(){function c(v){return m.call(c.src,c.listener,v)}const m=mo;return c}function Zs(c,m,v,A,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Zs(c,m[j],v,A,U);else A=p(A)?!!A.capture:!!A,v=go(v),c&&c[Ie]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],v=bt(m,v,A,U),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=ss(c))&&(m=c.g[m.toString()],c=-1,m&&(c=bt(m,v,A,U)),(v=c>-1?m[c]:null)&&Ws(v))}function Ws(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ie])_t(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ti(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ss(m))?(_t(v,c),v.h==0&&(v.src=null,m[Pt]=null)):dt(c)}}}function ti(c){return c in De?De[c]:De[c]="on"+c}function mo(c,m){if(c.da)c=!0;else{m=new re(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&Ws(c),c=v.call(A,m)}return c}function ss(c){return c=c[Pt],c instanceof lt?c:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(c){return typeof c=="function"?c:(c[po]||(c[po]=function(m){return c.handleEvent(m)}),c[po])}function ye(){M.call(this),this.i=new lt(this),this.M=this,this.G=null}S(ye,M),ye.prototype[Ie]=!0,ye.prototype.removeEventListener=function(c,m,v,A){Zs(this,c,m,v,A)};function Ne(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var U=m;m=new O(A,c),at(m,U)}U=!0;let j,it;if(v)for(it=v.length-1;it>=0;it--)j=m.g=v[it],U=lr(j,A,!0,m)&&U;if(j=m.g=c,U=lr(j,A,!0,m)&&U,U=lr(j,A,!1,m)&&U,v)for(it=0;it<v.length;it++)j=m.g=v[it],U=lr(j,A,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)dt(v[A]);delete c.g[m],c.h--}}this.G=null},ye.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},ye.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function lr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const it=m[j];if(it&&!it.da&&it.capture==v){const St=it.listener,de=it.ha||it.src;it.fa&&_t(c.i,it),U=St.call(de,A)!==!1&&U}}return U&&!A.defaultPrevented}function zh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function iu(c){c.g=zh(()=>{c.g=null,c.i&&(c.i=!1,iu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){M.call(this),this.h=c,this.g={}}S(as,M);var yo=[];function _o(c){zt(c.g,function(m,v){this.g.hasOwnProperty(v)&&Ws(m)},c),c.g={}}as.prototype.N=function(){as.Z.N.call(this),_o(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,Bh=f.JSON.parse,ru=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function su(){}function au(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function Tn(){O.call(this,"c")}S(Tn,O);var fe={},ou=null;function ta(){return ou=ou||new ye}fe.Ia="serverreachability";function lu(c){O.call(this,fe.Ia,c)}S(lu,O);function ei(c){const m=ta();Ne(m,new lu(m))}fe.STAT_EVENT="statevent";function os(c,m){O.call(this,fe.STAT_EVENT,c),this.stat=m}S(os,O);function _e(c){const m=ta();Ne(m,new os(m,c))}fe.Ja="timingevent";function ni(c,m){O.call(this,fe.Ja,c),this.size=m}S(ni,O);function ii(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function jh(c,m,v,A,U,j){c.info(function(){if(c.g)if(j){var it="",St=j.split("&");for(let Ht=0;Ht<St.length;Ht++){var de=St[Ht].split("=");if(de.length>1){const ae=de[0];de=de[1];const wn=ae.split("_");it=wn.length>=2&&wn[1]=="type"?it+(ae+"="+de+"&"):it+(ae+"=redacted&")}}}else it=null;else it=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+it})}function uu(c,m,v,A,U,j,it){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+it})}function ri(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(c,v)+(A?" "+A:"")})}function ls(c,m){c.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function Hh(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<A.length;it++)A[it]=""}}}}return ur(j)}catch{return m}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function cs(){}S(cs,su),cs.prototype.g=function(){return new XMLHttpRequest},Eo=new cs;function Oi(c){return encodeURIComponent(String(c))}function cu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function zn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},xe={};function si(c,m,v){c.M=1,c.A=hs(Te(m)),c.u=v,c.R=!0,ea(c,null)}function ea(c,m){c.F=Date.now(),ai(c),c.B=Te(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),sa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Bn,c.g=wu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(yo[0]=U.toString()),U=yo);for(let j=0;j<U.length;j++){const it=se(v,U[j],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ei(),jh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const m=this.O;m&&qn(c)==3?m.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)t:{const St=qn(this.g),de=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||St!=4||de==7||(de==8||Ht<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var j=A;break e}}j=null}if(c=j)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_e(12),hn(this),Sn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=fu(this,v),ae==xe){St==4&&(this.m=4,_e(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,ae,null),li(this,ae);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(it),it.P=!0,_e(11))}}else ri(this.i,this.l,v,null),li(this,v);St==4&&hn(this),this.o&&!this.K&&(St==4?Tu(this.j,this):(this.o=!1,ai(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),hn(this),Sn(this)}}}catch{}};function qh(c){if(!hu(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const A=m.length,U=qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return hn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(m[j],{stream:!(U&&j==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function hu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?xe:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?xe:(m=m.slice(A,A+v),c.C=A+v,m)))}zn.prototype.cancel=function(){this.K=!0,hn(this)};function ai(c){c.T=Date.now()+c.H,na(c,c.H)}function na(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(y(c.aa,c),m)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ls(this.i,this.B),this.M!=2&&(ei(),_e(17)),hn(this),this.m=2,Sn(this)):na(this,this.T-c)};function Sn(c){c.j.I==0||c.K||Tu(c.j,c)}function hn(c){oi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,_o(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function li(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ca(v),yr(v);else break t;_s(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&ca(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const ae=Ht[0];if(!(ae<=v.K))if(v.K=ae,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const wn=Ht[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const yi=Ht[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Fn=Ht[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(A=1.5*Fn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Gn=c.g;if(Gn){const vs=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var j=A.h;j.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ao(j,j.h),j.h=null))}if(A.G){const ha=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(A.wa=ha,Kt(A.J,A.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var it=c;if(A.na=bu(A,A.L?A.ba:null,A.W),it.L){bo(A.h,it);var St=it,de=A.O;de&&(St.H=de),St.D&&(oi(St),ai(St)),A.g=it}else vu(A);v.i.length>0&&pi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||gi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?gi(v,7):Mo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function To(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ao(c,m){c.g?c.g.add(m):c.h=m}function bo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return P(c.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,j=null;A>=0?(U=c[v].substring(0,A),j=c[v].substring(A+1)):U=c[v],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof fn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,Ro(this,yu(c.i)),this.m=c.m):c&&(m=String(c).match(du))?(this.l=!1,Le(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),cr(this,m[4]),this.h=hi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}fn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(fs(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(fs(m,ra,!0),"@"),c.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(fs(v,v.charAt(0)=="/"?Co:mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",fs(v,pu)),c.join("")},fn.prototype.resolve=function(c){const m=Te(this);let v=!!c.j;v?Le(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)cr(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let it=0;it<U.length;){const St=U[it++];St=="."?A&&it==U.length&&j.push(""):St==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&it==U.length&&j.push("")):(j.push(St),A=!0)}A=j.join("/")}else A=U}return v?m.h=A:v=c.i.toString()!=="",v?Ro(m,yu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Te(c){return new fn(c)}function Le(c,m,v){c.j=v?hi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Ro(c,m,v){m instanceof fr?(c.i=m,aa(c.i,c.l)):(v||(m=fs(m,hr)),c.i=new fr(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function hs(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fs(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ra=/[#\/\?@]/g,mu=/[#\?:]/g,Co=/[#\?]/g,hr=/[#\?@]/g,pu=/#/g;function fr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ia(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(c,m){rn(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function gu(c,m){rn(c),m=dr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Io(c,m){return rn(c),m=dr(c,m),c.g.has(m)}r.forEach=function(c,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(m,U,A,this)},this)},this)};function Do(c,m){rn(c);let v=[];if(typeof m=="string")Io(c,m)&&(v=v.concat(c.g.get(dr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return rn(this),this.i=null,c=dr(this,c),Io(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Do(this,c),c.length>0?String(c[0]):m):m};function sa(c,m,v){gu(c,m),v.length>0&&(c.i=null,c.g.set(dr(c,m),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=Oi(v);v=Do(this,v);for(let j=0;j<v.length;j++){let it=U;v[j]!==""&&(it+="="+Oi(v[j])),c.push(it)}}return this.i=c.join("&")};function yu(c){const m=new fr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function dr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function aa(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(gu(this,A),sa(this,U,v))},c)),c.j=m}function jn(c,m){const v=new kn;if(f.Image){const A=new Image;A.onload=E(An,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(An,v,"TestLoadImage: error",!1,m,A),A.onabort=E(An,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(An,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function No(c,m){const v=new kn,A=new AbortController,U=setTimeout(()=>{A.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(v,"TestPingServer: error",!1,m)})}function An(c,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function mr(){this.g=new ru}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(fi,su),fi.prototype.g=function(){return new ds(this.i,this.h)};function ds(c,m){ye.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ds,ye),r=ds.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?pr(this):Hn(this),this.readyState==3&&oa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Na=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let m="";return zt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function ms(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=bn(v),typeof c=="string"?v!=null&&Oi(v):Kt(c,m,v))}function Xt(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ye);var di=/^https?$/i,Oo=["POST","PUT"];r=Xt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){ps(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,it]of v)this.g.setRequestHeader(j,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){ps(this,j)}};function ps(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Vo(c),Vi(c)}function Vo(c){c.A||(c.A=!0,Ne(c,"complete"),Ne(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ne(this,"complete"),Ne(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gs(this):this.Xa())},r.Xa=function(){gs(this)};function gs(c){if(c.h&&typeof u<"u"){if(c.v&&qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ne(c,"readystatechange"),qn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=j===0){let it=String(c.D).match(du)[1]||null;!it&&f.self&&f.self.location&&(it=f.self.location.protocol.slice(0,-1)),A=!di.test(it?it.toLowerCase():"")}v=A}if(v)Ne(c,"complete"),Ne(c,"success");else{c.o=6;try{var U=qn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Vo(c)}}finally{Vi(c)}}}}function Vi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ne(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Bh(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(c){const m={};c=(c.g&&qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=cu(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}Gt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function gr(c){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new To(c&&c.concurrentRequestLimit),this.Ba=new mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,A){_e(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=bu(this,null,this.W),pi(this)};function Mo(c){if(la(c),c.I==3){var m=c.V++,v=Te(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),ys(c,v),m=new zn(c,c.j,m),m.M=2,m.A=hs(Te(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Au(c)}function yr(c){c.g&&(Lo(c),c.g.cancel(),c.g=null)}function la(c){yr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function pi(c){if(!So(c.h)&&!c.m){c.m=!0;var m=c.Ea;It||b(),Rt||(It(),Rt=!0),D.add(m,c),c.D=0}}function ua(c,m){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(y(c.Ea,c,m),Su(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new zn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=V(j),at(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,U,m),v=Te(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),ys(this,v),j&&(this.R?m="headers="+Oi(bn(j))+"&"+m:this.u&&ms(v,this.u,j)),Ao(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,si(U,v,null)):si(U,v,m),this.I=2}}else this.I==3&&(c?xo(this,c):this.i.length==0||So(this.h)||xo(this))};function xo(c,m){var v;m?v=m.l:v=c.V++;const A=Te(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),ys(c,A),c.u&&c.o&&ms(A,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=_u(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ao(c.h,v),si(v,A,m)}function ys(c,m){c.H&&zt(c.H,function(v,A){Kt(m,A,v)}),c.l&&zt({},function(v,A){Kt(m,A,v)})}function _u(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let St=-1;for(;;){const de=["count="+v];St==-1?v>0?(St=U[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let Ht=!0;for(let ae=0;ae<v;ae++){var j=U[ae].g;const wn=U[ae].map;if(j-=St,j<0)St=Math.max(0,U[ae].g-100),Ht=!1;else try{j="req"+j+"_"||"";try{var it=wn instanceof Map?wn:Object.entries(wn);for(const[yi,Fn]of it){let Gn=Fn;p(Fn)&&(Gn=ur(Fn)),de.push(j+yi+"="+encodeURIComponent(Gn))}}catch(yi){throw de.push(j+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(wn)}}if(Ht){it=de.join("&");break t}}it=void 0}return c=c.i.splice(0,v),m.G=c,it}function vu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;It||b(),Rt||(It(),Rt=!0),D.add(m,c),c.A=0}}function _s(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(y(c.Da,c),Su(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),yr(this),Eu(this))};function Lo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Eu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Te(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),ys(c,m),c.u&&c.o&&ms(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=hs(Te(m)),v.u=null,v.R=!0,ea(v,c)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),_s(this),_e(19))};function ca(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Tu(c,m){var v=null;if(c.g==m){ca(c),Lo(c),c.g=null;var A=2}else if(ci(c.h,m))v=m.G,bo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;A=ta(),Ne(A,new ni(A,v)),pi(c)}else vu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&ua(c,m)||A==2&&_s(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function Su(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function gi(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const U=!A;A=new fn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(A,"https"),hs(A),U?jn(A.toString(),v):No(A.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(m),Au(c),la(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Au(c){if(c.I=0,c.ja=[],c.l){const m=wo(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function bu(c,m,v){var A=v instanceof fn?Te(v):new fn(v);if(A.g!="")m&&(A.g=m+"."+A.g),cr(A,A.u);else{var U=f.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new fn(null);A&&Le(j,A),m&&(j.g=m),U&&cr(j,U),v&&(j.h=v),A=j}return v=c.G,m=c.wa,v&&m&&Kt(A,v,m),Kt(A,"VER",c.ka),ys(c,A),A}function wu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xt(new fi({ab:v})):new Xt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){ye.call(this),this.g=new gr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new xi(this)}S(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Mo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ur(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&pi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,tn.Z.N.call(this)};function Cu(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Cu,ze);function Iu(){Tn.call(this),this.status=1}S(Iu,Tn);function xi(c){this.g=c}S(xi,Ru),xi.prototype.ra=function(){Ne(this.g,"a")},xi.prototype.qa=function(c){Ne(this.g,new Cu(c))},xi.prototype.pa=function(c){Ne(this.g,new Iu)},xi.prototype.oa=function(){Ne(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,t0=function(){return new _r},WT=function(){return ta()},ZT=fe,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Gc=us,vo.COMPLETE="complete",JT=vo,au.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Sl=au,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,$T=Xt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let uo="12.8.0";function xC(r){uo=r}const Fs=new Bm("@firebase/firestore");function ja(){return Fs.logLevel}function ot(r,...t){if(Fs.logLevel<=Mt.DEBUG){const n=t.map(Wm);Fs.debug(`Firestore (${uo}): ${r}`,...n)}}function rr(r,...t){if(Fs.logLevel<=Mt.ERROR){const n=t.map(Wm);Fs.error(`Firestore (${uo}): ${r}`,...n)}}function Za(r,...t){if(Fs.logLevel<=Mt.WARN){const n=t.map(Wm);Fs.warn(`Firestore (${uo}): ${r}`,...n)}}function Wm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,e0(r,s,n)}function e0(r,t,n){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw rr(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||e0(t,o,s)}function Tt(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class n0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class UC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PC{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $r,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $r)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new n0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class kC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new kC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class tp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function _m(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return tm(o)===tm(u)?xt(o,u):tm(o)?1:-1}return xt(r.length,t.length)}const HC=55296,qC=57343;function tm(r){const t=r.charCodeAt(0);return t>=HC&&t<=qC}function Wa(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const qv="__name__";class Si{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=Si.isNumericId(t),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(t).compare(Si.extractNumericId(n)):_m(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xr.fromString(t.substring(4,t.length-2))}}class ne extends Si{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Si{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return FC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new Ke([qv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ht(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ht(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ht(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ne.fromString(t))}static fromName(t){return new mt(ne.fromString(t).popFirst(5))}static empty(){return new mt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ne(t.slice()))}}function i0(r,t,n){if(!n)throw new ht(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function GC(r,t,n,s){if(t===!0&&s===!0)throw new ht(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Fv(r){if(!mt.isDocumentKey(r))throw new ht(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gv(r){if(mt.isDocumentKey(r))throw new ht(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function r0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ep(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function ah(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(r);throw new ht(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function Jl(r,t){if(!r0(r))throw new ht(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ht(W.INVALID_ARGUMENT,n);return!0}const Kv=-62135596800,Qv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Qv);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Kv)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Kv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function KC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new Zr(o,mt.empty(),t)}function QC(r){return new Zr(r.readTime,r.key,Ul)}class Zr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(vt.min(),mt.empty(),Ul)}static max(){return new Zr(vt.max(),mt.empty(),Ul)}}function YC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==XC)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,s)=>{n(t)}))}static reject(t){return new J(((n,s)=>{s(t)}))}static waitFor(t){return new J(((n,s)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next((o=>o?J.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new J(((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++p,p===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new J(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function JC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}class Rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rh.ce=-1;const np=-1;function Ch(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function ZC(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const s0="";function WC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Yv(t)),t=tI(r.get(n),t);return Yv(t)}function tI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case s0:n+="";break;default:n+=u}}return n}function Yv(r){return r+s0+""}function Xv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Qs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function a0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(t){return new $v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class $v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new Me(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class o0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new o0("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const eI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=eI.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const l0="server_timestamp",u0="__type__",c0="__previous_value__",h0="__local_write_time__";function ip(r){return(r?.mapValue?.fields||{})[u0]?.stringValue===l0}function Ih(r){const t=r.mapValue.fields[c0];return ip(t)?Ih(t):t}function Pl(r){const t=Wr(r.mapValue.fields[h0].timestampValue);return new ie(t.seconds,t.nanos)}class nI{constructor(t,n,s,o,u,f,p,g,y,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const lh="(default)";class kl{constructor(t,n){this.projectId=t,this.database=n||lh}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}function iI(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ht(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(r.options.projectId,t)}const f0="__type__",rI="__max__",Uc={mapValue:{}},d0="__vector__",uh="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ip(r)?4:aI(r)?9007199254740991:sI(r)?10:11:gt(28295,{value:r})}function Di(r,t){if(r===t)return!0;const n=es(r);if(n!==es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pl(r).isEqual(Pl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wr(o.timestampValue),p=Wr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),p=ge(u.doubleValue);return f===p?oh(f)===oh(p):isNaN(f)&&isNaN(p)}return!1})(r,t);case 9:return Wa(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Xv(f)!==Xv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Di(f[g],p[g])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function zl(r,t){return(r.values||[]).find((n=>Di(n,t)))!==void 0}function to(r,t){if(r===t)return 0;const n=es(r),s=es(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=ge(u.integerValue||u.doubleValue),g=ge(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,t);case 3:return Jv(r.timestampValue,t.timestampValue);case 4:return Jv(Pl(r),Pl(t));case 5:return _m(r.stringValue,t.stringValue);case 6:return(function(u,f){const p=ts(u),g=ts(f);return p.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=xt(p[y],g[y]);if(E!==0)return E}return xt(p.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=xt(ge(u.latitude),ge(f.latitude));return p!==0?p:xt(ge(u.longitude),ge(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Zv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[uh]?.arrayValue,E=g[uh]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Zv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=_m(g[S],E[S]);if(w!==0)return w;const P=to(p[g[S]],y[E[S]]);if(P!==0)return P}return xt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:n})}}function Jv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=Wr(r),s=Wr(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function Zv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=to(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function eo(r){return vm(r)}function vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=vm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${vm(n.fields[f])}`;return o+"}"})(r.mapValue):gt(61005,{value:r})}function Kc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ih(r);return t?16+Kc(t):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Kc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Qs(s.fields,((u,f)=>{o+=u.length+Kc(f)})),o})(r.mapValue);default:throw gt(13486,{value:r})}}function Em(r){return!!r&&"integerValue"in r}function rp(r){return!!r&&"arrayValue"in r}function Wv(r){return!!r&&"nullValue"in r}function tE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function sI(r){return(r?.mapValue?.fields||{})[f0]?.stringValue===d0}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Qs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Il(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Il(r.arrayValue.values[n]);return t}return{...r}}function aI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===rI}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(n)}setAll(t){let n=Ke.emptyPath(),s={},o=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Il(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Qs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new xn(Il(this.value))}}function m0(r){const t=[];return Qs(r.fields,((n,s)=>{const o=new Ke([n]);if(Qc(s)){const u=m0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Jn(t)}class Je{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),xn.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,vt.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,vt.min(),vt.min(),xn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,vt.min(),vt.min(),xn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(t,n){this.position=t,this.inclusive=n}}function eE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=to(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Di(r.position[n],t.position[n]))return!1;return!0}class hh{constructor(t,n="asc"){this.field=t,this.dir=n}}function oI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class p0{}class Ve extends p0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new uI(t,n,s):n==="array-contains"?new fI(t,s):n==="in"?new dI(t,s):n==="not-in"?new mI(t,s):n==="array-contains-any"?new pI(t,s):new Ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new cI(t,s):new hI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(to(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends p0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ni(t,n)}matches(t){return g0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g0(r){return r.op==="and"}function y0(r){return lI(r)&&g0(r)}function lI(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function Tm(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(y0(r))return r.filters.map((t=>Tm(t))).join(",");{const t=r.filters.map((n=>Tm(n))).join(",");return`${r.op}(${t})`}}function _0(r,t){return r instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)})(r,t):r instanceof Ni?(function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&_0(f,o.filters[p])),!0):!1})(r,t):void gt(19439)}function v0(r){return r instanceof Ve?(function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`})(r):r instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(v0).join(" ,")+"}"})(r):"Filter"}class uI extends Ve{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class cI extends Ve{constructor(t,n){super(t,"in",n),this.keys=E0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class hI extends Ve{constructor(t,n){super(t,"not-in",n),this.keys=E0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function E0(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class fI extends Ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return rp(n)&&zl(n.arrayValue,this.value)}}class dI extends Ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class mI extends Ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class pI extends Ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>zl(this.value.arrayValue,s)))}}class gI{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function iE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new gI(r,t,n,s,o,u,f)}function sp(r){const t=Tt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Tm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>eo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>eo(s))).join(",")),t.Te=n}return t.Te}function ap(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!oI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!_0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!nE(r.startAt,t.startAt)&&nE(r.endAt,t.endAt)}function Sm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Dh{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yI(r,t,n,s,o,u,f,p){return new Dh(r,t,n,s,o,u,f,p)}function op(r){return new Dh(r)}function rE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _I(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function vI(r){return r.collectionGroup!==null}function Dl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Me(Ke.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new hh(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new hh(Ke.keyField(),s))}return t.Ie}function bi(r){const t=Tt(r);return t.Ee||(t.Ee=EI(t,Dl(r))),t.Ee}function EI(r,t){if(r.limitType==="F")return iE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new hh(o.field,u)}));const n=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return iE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Am(r,t,n){return new Dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Nh(r,t){return ap(bi(r),bi(t))&&r.limitType===t.limitType}function T0(r){return`${sp(bi(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>v0(o))).join(", ")}]`),Ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>eo(o))).join(",")),`Target(${s})`})(bi(r))}; limitType=${r.limitType})`}function Oh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Dl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=eE(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,Dl(s),o)||s.endAt&&!(function(f,p,g){const y=eE(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,Dl(s),o))})(r,t)}function TI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function S0(r){return(t,n)=>{let s=!1;for(const o of Dl(r)){const u=SI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function SI(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?to(g,y):gt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class Ys{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Qs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return a0(this.inner)}size(){return this.innerSize}}const AI=new ue(mt.comparator);function sr(){return AI}const A0=new ue(mt.comparator);function Al(...r){let t=A0;for(const n of r)t=t.insert(n.key,n);return t}function b0(r){let t=A0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ps(){return Nl()}function w0(){return Nl()}function Nl(){return new Ys((r=>r.toString()),((r,t)=>r.isEqual(t)))}const bI=new ue(mt.comparator),wI=new Me(mt.comparator);function Lt(...r){let t=wI;for(const n of r)t=t.add(n);return t}const RI=new Me(xt);function CI(){return RI}function lp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function R0(r){return{integerValue:""+r}}function II(r,t){return ZC(t)?R0(t):lp(r,t)}class Vh{constructor(){this._=void 0}}function DI(r,t,n){return r instanceof Bl?(function(o,u){const f={fields:{[u0]:{stringValue:l0},[h0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ip(u)&&(u=Ih(u)),u&&(f.fields[c0]=u),{mapValue:f}})(n,t):r instanceof jl?I0(r,t):r instanceof Hl?D0(r,t):(function(o,u){const f=C0(o,u),p=sE(f)+sE(o.Ae);return Em(f)&&Em(o.Ae)?R0(p):lp(o.serializer,p)})(r,t)}function NI(r,t,n){return r instanceof jl?I0(r,t):r instanceof Hl?D0(r,t):n}function C0(r,t){return r instanceof fh?(function(s){return Em(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Bl extends Vh{}class jl extends Vh{constructor(t){super(),this.elements=t}}function I0(r,t){const n=N0(t);for(const s of r.elements)n.some((o=>Di(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Hl extends Vh{constructor(t){super(),this.elements=t}}function D0(r,t){let n=N0(t);for(const s of r.elements)n=n.filter((o=>!Di(o,s)));return{arrayValue:{values:n}}}class fh extends Vh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function sE(r){return ge(r.integerValue||r.doubleValue)}function N0(r){return rp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class OI{constructor(t,n){this.field=t,this.transform=n}}function VI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof jl&&o instanceof jl||s instanceof Hl&&o instanceof Hl?Wa(s.elements,o.elements,Di):s instanceof fh&&o instanceof fh?Di(s.Ae,o.Ae):s instanceof Bl&&o instanceof Bl})(r.transform,t.transform)}class MI{constructor(t,n){this.version=t,this.transformResults=n}}class tr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new tr}static exists(t){return new tr(void 0,t)}static updateTime(t){return new tr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Mh{}function O0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new M0(r.key,tr.none()):new Zl(r.key,r.data,tr.none());{const n=r.data,s=xn.empty();let o=new Me(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Xs(r.key,s,new Jn(o.toArray()),tr.none())}}function xI(r,t,n){r instanceof Zl?(function(o,u,f){const p=o.value.clone(),g=oE(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):r instanceof Xs?(function(o,u,f){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=oE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(V0(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ol(r,t,n,s){return r instanceof Zl?(function(u,f,p,g){if(!Yc(u.precondition,f))return p;const y=u.value.clone(),E=lE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Xs?(function(u,f,p,g){if(!Yc(u.precondition,f))return p;const y=lE(u.fieldTransforms,g,f),E=f.data;return E.setAll(V0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,p){return Yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,t,n)}function LI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=C0(s.transform,o||null);u!=null&&(n===null&&(n=xn.empty()),n.set(s.field,u))}return n||null}function aE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Wa(s,o,((u,f)=>VI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zl extends Mh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Mh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function V0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function oE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,NI(f,p,n[o]))}return s}function lE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,DI(u,f,t))}return s}class M0 extends Mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UI extends Mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&xI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ol(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ol(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=w0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=O0(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((n,s)=>aE(n,s)))&&Wa(this.baseMutations,t.baseMutations,((n,s)=>aE(n,s)))}}class up{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return bI})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new up(t,n,s,o)}}class kI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Re,kt;function BI(r){switch(r){case W.OK:return gt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function x0(r){if(r===void 0)return rr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Re.OK:return W.OK;case Re.CANCELLED:return W.CANCELLED;case Re.UNKNOWN:return W.UNKNOWN;case Re.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Re.INTERNAL:return W.INTERNAL;case Re.UNAVAILABLE:return W.UNAVAILABLE;case Re.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Re.NOT_FOUND:return W.NOT_FOUND;case Re.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Re.ABORTED:return W.ABORTED;case Re.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Re.DATA_LOSS:return W.DATA_LOSS;default:return gt(39323,{code:r})}}(kt=Re||(Re={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function jI(){return new TextEncoder}const HI=new Xr([4294967295,4294967295],0);function uE(r){const t=jI().encode(r),n=new XT;return n.update(t),new Uint8Array(n.digest())}function cE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Xr([n,s],0),new Xr([o,u],0)]}class cp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Xr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Xr.fromNumber(s)));return o.compare(HI)===1&&(o=new Xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=uE(t),[s,o]=cE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new cp(u,o,n);return s.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=uE(t),[s,o]=cE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new xh(vt.min(),o,new ue(xt),sr(),Lt())}}class Wl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Wl(s,n,Lt(),Lt(),Lt())}}class Xc{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=o}}class L0{constructor(t,n){this.targetId=t,this.Ce=n}}class U0{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hE{constructor(){this.ve=0,this.Fe=fE(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:gt(38017,{changeType:u})}})),new Wl(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=fE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class qI{constructor(t){this.Ge=t,this.ze=new Map,this.je=sr(),this.He=Pc(),this.Je=Pc(),this.Ze=new ue(xt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Sm(u))if(s===0){const f=new mt(u.path);this.et(n,f,Je.newNoDocument(f,vt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),g=p?this.ct(p,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ts(s).toUint8Array()}catch(g){if(g instanceof o0)return Za("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new cp(f,o,u)}catch(g){return Za(g instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Sm(p.target)){const g=new mt(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Je.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Lt();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new xh(t,n,this.Ze,this.je,s);return this.je=sr(),this.He=Pc(),this.Je=Pc(),this.Ze=new ue(xt),o}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new hE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Me(xt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Me(xt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new hE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Pc(){return new ue(mt.comparator)}function fE(){return new ue(mt.comparator)}const FI={asc:"ASCENDING",desc:"DESCENDING"},GI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KI={and:"AND",or:"OR"};class QI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bm(r,t){return r.useProto3Json||Ch(t)?t:{value:t}}function dh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function P0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function YI(r,t){return dh(r,t.toTimestamp())}function wi(r){return Ft(!!r,49232),vt.fromTimestamp((function(n){const s=Wr(n);return new ie(s.seconds,s.nanos)})(r))}function hp(r,t){return wm(r,t).canonicalString()}function wm(r,t){const n=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function k0(r){const t=ne.fromString(r);return Ft(q0(t),10190,{key:t.toString()}),t}function Rm(r,t){return hp(r.databaseId,t.path)}function em(r,t){const n=k0(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(B0(n))}function z0(r,t){return hp(r.databaseId,t)}function XI(r){const t=k0(r);return t.length===4?ne.emptyPath():B0(t)}function Cm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dE(r,t,n){return{name:Rm(r,t),fields:n.value.mapValue.fields}}function $I(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:x0(y.code);return new ht(E,y.message||"")})(f);n=new U0(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=em(r,s.document.name),u=wi(s.document.updateTime),f=s.document.createTime?wi(s.document.createTime):vt.min(),p=new xn({mapValue:{fields:s.document.fields}}),g=Je.newFoundDocument(o,u,f,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Xc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=em(r,s.document),u=s.readTime?wi(s.readTime):vt.min(),f=Je.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Xc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=em(r,s.document),u=s.removedTargetIds||[];n=new Xc([],u,o,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new zI(o,u),p=s.targetId;n=new L0(p,f)}}return n}function JI(r,t){let n;if(t instanceof Zl)n={update:dE(r,t.key,t.value)};else if(t instanceof M0)n={delete:Rm(r,t.key)};else if(t instanceof Xs)n={update:dE(r,t.key,t.data),updateMask:aD(t.fieldMask)};else{if(!(t instanceof UI))return gt(16599,{dt:t.type});n={verify:Rm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Bl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Hl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:YI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),n}function ZI(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?wi(o.updateTime):wi(u);return f.isEqual(vt.min())&&(f=wi(u)),new MI(f,o.transformResults||[])})(n,t)))):[]}function WI(r,t){return{documents:[z0(r,t.path)]}}function tD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=z0(r,o);const u=(function(y){if(y.length!==0)return H0(Ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:qa(w.field),direction:iD(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=bm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function eD(r){let t=XI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=j0(S);return w instanceof Ni&&y0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(Z){return new hh(Fa(Z.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let w;return w=typeof S=="object"?S.value:S,Ch(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,P=S.values||[];return new ch(P,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,P=S.values||[];return new ch(P,w)})(n.endAt)),yI(t,o,f,u,p,"F",g,y)}function nD(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function j0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return Ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ve.create(Fa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((s=>j0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(r):gt(30097,{filter:r})}function iD(r){return FI[r]}function rD(r){return GI[r]}function sD(r){return KI[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Ke.fromServerFormat(r.fieldPath)}function H0(r){return r instanceof Ve?(function(n){if(n.op==="=="){if(tE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(Wv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(Wv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:rD(n.op),value:n.value}}})(r):r instanceof Ni?(function(n){const s=n.getFilters().map((o=>H0(o)));return s.length===1?s[0]:{compositeFilter:{op:sD(n.op),filters:s}}})(r):gt(54877,{filter:r})}function aD(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function q0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function F0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Gr{constructor(t,n,s,o,u=vt.min(),f=vt.min(),p=Qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class oD{constructor(t){this.yt=t}}function lD(r){const t=eD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Am(t,t.limit,"L"):t}class uD{constructor(){this.Sn=new cD}addToCollectionParentIndex(t,n){return this.Sn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(Zr.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class cD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Me(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(G0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class no{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new no(0)}static ar(){return new no(-1)}}const pE="LruGarbageCollector",hD=1048576;function gE([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class fD{constructor(t){this.Pr=t,this.buffer=new Me(gE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(pE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?ot(pE,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.Ar(3e5)}))}}class mD{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Rh.ce);const s=new fD(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(mE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,o,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),ja()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function pD(r,t){return new mD(r,t)}class gD{constructor(){this.changes=new Ys((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class _D{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ol(s.mutation,o,Jn.empty(),ie.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=Ps();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Al();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ps();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,s,o){let u=sr();const f=Nl(),p=(function(){return Nl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Xs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ol(E.mutation,y,E.mutation.getFieldMask(),ie.now())):f.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>p.set(y,new yD(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Nl();let o=new ue(((f,p)=>f-p)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Jn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const S=(o.get(p.batchId)||Lt()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,S=w0();E.forEach((w=>{if(!u.has(w)){const P=O0(n.get(w),s.get(w));P!==null&&S.set(w,P),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return _I(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):vI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):J.resolve(Ps());let p=Ul,g=u;return f.next((y=>J.forEach(y,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Lt()))).next((E=>({batchId:p,changes:b0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=Al();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Al();return this.indexManager.getCollectionParents(t,u).next((p=>J.forEach(p,(g=>{const y=(function(S,w){return new Dh(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let p=Al();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ol(E.mutation,y,Jn.empty(),ie.now()),Oh(n,y)&&(p=p.insert(g,y))})),p}))}}class vD{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:lD(o.bundledQuery),readTime:wi(o.readTime)}})(n)),J.resolve()}}class ED{constructor(){this.overlays=new ue(mt.comparator),this.Lr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ps();return J.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.bt(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const o=Ps(),u=n.length+1,f=new mt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ps(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Ps(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return J.resolve(p)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kI(n,s));let u=this.Lr.get(n);u===void 0&&(u=Lt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class TD{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}class fp{constructor(){this.kr=new Me(Pe.Kr),this.qr=new Me(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Pe(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new mt(new ne([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new mt(new ne([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=Lt();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Pe(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return mt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||mt.comparator(t.key,n.key)}}class SD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Pe.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new PI(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Jr=this.Jr.add(new Pe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?np:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const p=this.Zr(f.Hr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Me(xt);return n.forEach((o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{s=s.add(p.Hr)}))})),J.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new mt(u),0);let p=new Me(xt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),f),J.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return J.forEach(n.mutations,(o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Jr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class AD{constructor(t){this.ti=t,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=sr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=sr();const f=n.path,p=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||YC(QC(E),s)<=0||(o.has(E.key)||Oh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,o){gt(9500)}ni(t,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new bD(this)}getSize(t){return J.resolve(this.size)}}class bD extends gD{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),J.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class wD{constructor(t){this.persistence=t,this.ri=new Ys((n=>sp(n)),ap),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new fp,this.targetCount=0,this.oi=no._r()}forEachTarget(t,n){return this.ri.forEach(((s,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),J.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new no(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.lr(n),J.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),J.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this.si.containsKey(n))}}class K0{constructor(t,n){this._i={},this.overlays={},this.ai=new Rh(0),this.ui=!1,this.ui=!0,this.ci=new TD,this.referenceDelegate=t(this),this.li=new wD(this),this.indexManager=new uD,this.remoteDocumentCache=(function(o){return new AD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new oD(n),this.Pi=new vD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ED,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new SD(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new RD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return J.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class RD extends $C{constructor(t){super(),this.currentSequenceNumber=t}}class dp{constructor(t){this.persistence=t,this.Ri=new fp,this.Ai=null}static Vi(t){return new dp(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(s=>{const o=mt.fromPath(s);return this.mi(t,o).next((u=>{u||n.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class mh{constructor(t,n){this.persistence=t,this.fi=new Ys((s=>WC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=pD(this,n)}static Vi(t,n){return new mh(t,n)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return J.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?J.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((p=>{p||(s++,u.removeEntry(f,vt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Kc(t.data.value)),n}wr(t,n,s){return J.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class mp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=o}static Es(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mp(t,n.fromCache,s,o)}}class CD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ID{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dw()?8:JC(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new CD;return this.ys(t,n,f).next((p=>{if(u.result=p,this.As)return this.ws(t,n,f,p.size)}))})).next((()=>u.result))}ws(t,n,s,o){return s.documentReadCount<this.Vs?(ja()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(ja()<=Mt.DEBUG&&ot("QueryEngine","Query:",Ha(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ja()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(n))):J.resolve())}gs(t,n){if(rE(n))return J.resolve(null);let s=bi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Am(n,null,"F"),s=bi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.fs.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,f,g.readTime)?this.gs(t,Am(n,null,"F")):this.Ds(t,y,n,g)}))))})))))}ps(t,n,s,o){return rE(n)||o.isEqual(vt.min())?J.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?J.resolve(null):(ja()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(n)),this.Ds(t,f,n,KC(o,Ul)).next((p=>p)))}))}bs(t,n){let s=new Me(S0(t));return n.forEach(((o,u)=>{Oh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,s){return ja()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.fs.getDocumentsMatchingQuery(t,n,Zr.min(),s)}Ds(t,n,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const pp="LocalStore",DD=3e8;class ND{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ue(xt),this.Fs=new Ys((u=>sp(u)),ap),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _D(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function OD(r,t,n,s){return new ND(r,t,n,s)}async function Q0(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function VD(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const S=y.batch,w=S.keys();let P=J.resolve();return w.forEach((Z=>{P=P.next((()=>E.getEntry(g,Z))).next((Y=>{const F=y.docVersions.get(Z);Ft(F!==null,48541),Y.version.compareTo(F)<0&&(S.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Lt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Y0(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function MD(r,t){const n=Tt(r),s=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];t.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;p.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let P=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),(function(Y,F,nt){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=DD?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(w,P,E)&&p.push(n.li.updateTargetData(u,P))}));let g=sr(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(xD(u,f,t.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(vt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return J.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function xD(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=sr();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(vt.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):ot(pp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function LD(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function UD(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,t).next((u=>u?(o=u,J.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Gr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Im(r,t,n){const s=Tt(r),o=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!ho(f))throw f;ot(pp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function yE(r,t,n){const s=Tt(r);let o=vt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Tt(g),w=S.Fs.get(E);return w!==void 0?J.resolve(S.vs.get(w)):S.li.getTargetData(y,E)})(s,f,bi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:vt.min(),n?u:Lt()))).next((p=>(PD(s,TI(t),p),{documents:p,ks:u})))))}function PD(r,t,n){let s=r.Ms.get(t)||vt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class _E{constructor(){this.activeTargetIds=CI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kD{constructor(){this.vo=new _E,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new _E,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zD{Mo(t){}shutdown(){}}const vE="ConnectivityMonitor";class EE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(vE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(vE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function Dm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const nm="RestConnection",BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jD{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=Dm(),p=this.Qo(t,n.toUriEncodedString());ot(nm,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(p),E=ao(y);return this.zo(t,p,g,s,E).then((S=>(ot(nm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Za(nm,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const s=BD[t];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class HD{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",Tl=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ya extends jD{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ya.c_){const t=WT();Tl(t,ZT.STAT_EVENT,(n=>{n.stat===ym.PROXY?ot(Xe,"STAT_EVENT: detected buffering proxy"):n.stat===ym.NOPROXY&&ot(Xe,"STAT_EVENT: detected no buffering proxy")})),Ya.c_=!0}}zo(t,n,s,o,u){const f=Dm();return new Promise(((p,g)=>{const y=new $T;y.setWithCredentials(!0),y.listenOnce(JT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const S=y.getResponseJson();ot(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case Gc.TIMEOUT:ot(Xe,`RPC '${t}' ${f} timed out`),g(new ht(W.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const w=y.getStatus();if(ot(Xe,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const Z=P?.error;if(Z&&Z.status&&Z.message){const Y=(function(nt){const tt=nt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(tt)>=0?tt:W.UNKNOWN})(Z.status);g(new ht(Y,Z.message))}else g(new ht(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ht(W.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Xe,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ot(Xe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Dm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=u.join("");ot(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,p);const E=f.createWebChannel(y,p);this.I_(E);let S=!1,w=!1;const P=new HD({Ho:Z=>{w?ot(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(S||(ot(Xe,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),ot(Xe,`RPC '${t}' stream ${o} sending:`,Z),E.send(Z))},Jo:()=>E.close()});return Tl(E,Sl.EventType.OPEN,(()=>{w||(ot(Xe,`RPC '${t}' stream ${o} transport opened.`),P.i_())})),Tl(E,Sl.EventType.CLOSE,(()=>{w||(w=!0,ot(Xe,`RPC '${t}' stream ${o} transport closed`),P.o_(),this.E_(E))})),Tl(E,Sl.EventType.ERROR,(Z=>{w||(w=!0,Za(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),P.o_(new ht(W.UNAVAILABLE,"The operation could not be completed")))})),Tl(E,Sl.EventType.MESSAGE,(Z=>{if(!w){const Y=Z.data[0];Ft(!!Y,16349);const F=Y,nt=F?.error||F[0]?.error;if(nt){ot(Xe,`RPC '${t}' stream ${o} received error:`,nt);const tt=nt.status;let rt=(function(Rt){const D=Re[Rt];if(D!==void 0)return x0(D)})(tt),Ct=nt.message;rt===void 0&&(rt=W.INTERNAL,Ct="Unknown error status: "+tt+" with message "+nt.message),w=!0,P.o_(new ht(rt,Ct)),E.close()}else ot(Xe,`RPC '${t}' stream ${o} received:`,Y),P.__(Y)}})),Ya.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return t0()}}function qD(r){return new Ya(r)}function im(){return typeof document<"u"?document:null}function Lh(r){return new QI(r,!0)}Ya.c_=!1;class X0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const TE="PersistentStream";class $0{constructor(t,n,s,o,u,f,p,g){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ht(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(TE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ot(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FD extends $0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=$I(this.serializer,t),s=(function(u){if(!("targetChange"in u))return vt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?wi(f.readTime):vt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Cm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Sm(g)?{documents:WI(u,g)}:{query:tD(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=P0(u,f.resumeToken);const y=bm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(vt.min())>0){p.readTime=dh(u,f.snapshotVersion.toTimestamp());const y=bm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=nD(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Cm(this.serializer),n.removeTarget=t,this.K_(n)}}class GD extends $0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=ZI(t.writeResults,t.commitTime),s=wi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Cm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>JI(this.serializer,s)))};this.K_(n)}}class KD{}class QD extends KD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,wm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(W.UNKNOWN,u.toString())}))}jo(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(t,wm(n,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YD(r,t,n,s){return new QD(r,t,n,s)}class XD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gs="RemoteStore";class $D{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{$s(this)&&(ot(Gs,"Restarting streams for network reachability change."),await(async function(g){const y=Tt(g);y.Ea.add(4),await tu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Uh(y)})(this))}))})),this.Va=new XD(s,o)}}async function Uh(r){if($s(r))for(const t of r.Ra)await t(!0)}async function tu(r){for(const t of r.Ra)await t(!1)}function J0(r,t){const n=Tt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),vp(n)?_p(n):fo(n).O_()&&yp(n,t))}function gp(r,t){const n=Tt(r),s=fo(n);n.Ia.delete(t),s.O_()&&Z0(n,t),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Va.set("Unknown"))}function yp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fo(r).Z_(t)}function Z0(r,t){r.da.$e(t),fo(r).X_(t)}function _p(r){r.da=new qI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Va.ua()}function vp(r){return $s(r)&&!fo(r).x_()&&r.Ia.size>0}function $s(r){return Tt(r).Ea.size===0}function W0(r){r.da=void 0}async function JD(r){r.Va.set("Online")}async function ZD(r){r.Ia.forEach(((t,n)=>{yp(r,t)}))}async function WD(r,t){W0(r),vp(r)?(r.Va.ha(t),_p(r)):r.Va.set("Unknown")}async function tN(r,t,n){if(r.Va.set("Online"),t instanceof U0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.da.removeTarget(p))})(r,t)}catch(s){ot(Gs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ph(r,s)}else if(t instanceof Xc?r.da.Xe(t):t instanceof L0?r.da.st(t):r.da.tt(t),!n.isEqual(vt.min()))try{const s=await Y0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),Z0(u,g);const S=new Gr(E.target,g,y,E.sequenceNumber);yp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){ot(Gs,"Failed to raise snapshot:",s),await ph(r,s)}}async function ph(r,t,n){if(!ho(t))throw t;r.Ea.add(1),await tu(r),r.Va.set("Offline"),n||(n=()=>Y0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Gs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Uh(r)}))}function tS(r,t){return t().catch((n=>ph(r,n,t)))}async function Ph(r){const t=Tt(r),n=ns(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:np;for(;eN(t);)try{const o=await LD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,nN(t,o)}catch(o){await ph(t,o)}eS(t)&&nS(t)}function eN(r){return $s(r)&&r.Ta.length<10}function nN(r,t){r.Ta.push(t);const n=ns(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function eS(r){return $s(r)&&!ns(r).x_()&&r.Ta.length>0}function nS(r){ns(r).start()}async function iN(r){ns(r).ra()}async function rN(r){const t=ns(r);for(const n of r.Ta)t.ea(n.mutations)}async function sN(r,t,n){const s=r.Ta.shift(),o=up.from(s,t,n);await tS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ph(r)}async function aN(r,t){t&&ns(r).Y_&&await(async function(s,o){if((function(f){return BI(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();ns(s).B_(),await tS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ph(s)}})(r,t),eS(r)&&nS(r)}async function SE(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),ot(Gs,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await tu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Uh(n)}async function oN(r,t){const n=Tt(r);t?(n.Ea.delete(2),await Uh(n)):t||(n.Ea.add(2),await tu(n),n.Va.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(n,s,o){const u=Tt(n);return u.sa(),new FD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:JD.bind(null,r),Yo:ZD.bind(null,r),t_:WD.bind(null,r),J_:tN.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),vp(r)?_p(r):r.Va.set("Unknown")):(await r.ma.stop(),W0(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,s,o){const u=Tt(n);return u.sa(),new GD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iN.bind(null,r),t_:aN.bind(null,r),ta:rN.bind(null,r),na:sN.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Ph(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Gs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ep{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new Ep(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(r,t){if(rr("AsyncQueue",`${t}: ${r}`),ho(r))return new ht(W.UNAVAILABLE,`${t}: ${r}`);throw r}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Al(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class AE{constructor(){this.ga=new ue(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class io{constructor(t,n,s,o,u,f,p,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new io(t,n,Xa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class lN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class uN{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Tt(n),u=o.queries;o.queries=bE(),u.forEach(((f,p)=>{for(const g of p.ba)g.onError(s)}))})(this,new ht(W.ABORTED,"Firestore shutting down"))}}function bE(){return new Ys((r=>T0(r)),Nh)}async function cN(r,t){const n=Tt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new lN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Tp(f,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Sp(n)}async function hN(r,t){const n=Tt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fN(r,t){const n=Tt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(o)&&(s=!0);f.wa=o}}s&&Sp(n)}function dN(r,t,n){const s=Tt(r),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(t)}function Sp(r){r.Ca.forEach((t=>{t.next()}))}var Nm,wE;(wE=Nm||(Nm={})).Ma="default",wE.Cache="cache";class mN{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new io(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Nm.Cache}}class iS{constructor(t){this.key=t}}class rS{constructor(t){this.key=t}}class pN{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=S0(t),this.tu=new Xa(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new AE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const w=o.get(E),P=Oh(this.query,S)?S:null,Z=!!w&&this.mutatedKeys.has(w.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;w&&P?w.data.isEqual(P.data)?Z!==Y&&(s.track({type:3,doc:P}),F=!0):this.su(w,P)||(s.track({type:2,doc:P}),F=!0,(g&&this.eu(P,g)>0||y&&this.eu(P,y)<0)&&(p=!0)):!w&&P?(s.track({type:0,doc:P}),F=!0):w&&!P&&(s.track({type:1,doc:w}),F=!0,(g||y)&&(p=!0)),F&&(P?(f=f.add(P),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(P,Z){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:F})}};return Y(P)-Y(Z)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new io(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new rS(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new iS(s))})),n}cu(t){this.Za=t.ks,this.Ya=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ap="SyncEngine";class gN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class yN{constructor(t){this.key=t,this.hu=!1}}class _N{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ys((p=>T0(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(mt.comparator),this.Au=new Map,this.Vu=new fp,this.du={},this.mu=new Map,this.fu=no.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vN(r,t,n=!0){const s=cS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await sS(s,t,n,!0),o}async function EN(r,t){const n=cS(r);await sS(n,t,!0,!1)}async function sS(r,t,n,s){const o=await UD(r.localStore,bi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await TN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&J0(r.remoteStore,o),p}async function TN(r,t,n,s,o){r.pu=(S,w,P)=>(async function(Y,F,nt,tt){let rt=F.view.ru(nt);rt.Ss&&(rt=await yE(Y.localStore,F.query,!1).then((({documents:D})=>F.view.ru(D,rt))));const Ct=tt&&tt.targetChanges.get(F.targetId),It=tt&&tt.targetMismatches.get(F.targetId)!=null,Rt=F.view.applyChanges(rt,Y.isPrimaryClient,Ct,It);return CE(Y,F.targetId,Rt.au),Rt.snapshot})(r,S,w,P);const u=await yE(r.localStore,t,!0),f=new pN(t,u.ks),p=f.ru(u.documents),g=Wl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);CE(r,n,y.au);const E=new gN(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function SN(r,t,n){const s=Tt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Nh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Im(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&gp(s.remoteStore,o.targetId),Om(s,o.targetId)})).catch(co)):(Om(s,o.targetId),await Im(s.localStore,o.targetId,!0))}async function AN(r,t){const n=Tt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),gp(n.remoteStore,s.targetId))}async function bN(r,t,n){const s=ON(r);try{const o=await(function(f,p){const g=Tt(f),y=ie.now(),E=p.reduce(((P,Z)=>P.add(Z.key)),Lt());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Z=sr(),Y=Lt();return g.xs.getEntries(P,E).next((F=>{Z=F,Z.forEach(((nt,tt)=>{tt.isValidDocument()||(Y=Y.add(nt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,Z))).next((F=>{S=F;const nt=[];for(const tt of p){const rt=LI(tt,S.get(tt.key).overlayedDocument);rt!=null&&nt.push(new Xs(tt.key,rt,m0(rt.value.mapValue),tr.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,nt,p)})).next((F=>{w=F;const nt=F.applyToLocalDocumentSet(S,Y);return g.documentOverlayCache.saveOverlays(P,F.batchId,nt)}))})).then((()=>({batchId:w.batchId,changes:b0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.du[f.currentUser.toKey()];y||(y=new ue(xt)),y=y.insert(p,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await eu(s,o.changes),await Ph(s.remoteStore)}catch(o){const u=Tp(o,"Failed to persist write");n.reject(u)}}async function aS(r,t){const n=Tt(r);try{const s=await MD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await eu(n,s,t)}catch(s){await co(s)}}function RE(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Tt(f);g.onlineState=p;let y=!1;g.queries.forEach(((E,S)=>{for(const w of S.ba)w.va(p)&&(y=!0)})),y&&Sp(g)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function wN(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ue(mt.comparator);f=f.insert(u,Je.newNoDocument(u,vt.min()));const p=Lt().add(u),g=new xh(vt.min(),new Map,new ue(xt),f,p);await aS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(t),bp(s)}else await Im(s.localStore,t,!1).then((()=>Om(s,t,n))).catch(co)}async function RN(r,t){const n=Tt(r),s=t.batch.batchId;try{const o=await VD(n.localStore,t);lS(n,s,null),oS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await eu(n,o)}catch(o){await co(o)}}async function CN(r,t,n){const s=Tt(r);try{const o=await(function(f,p){const g=Tt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ft(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);lS(s,t,n),oS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await eu(s,o)}catch(o){await co(o)}}function oS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function lS(r,t,n){const s=Tt(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function Om(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||uS(r,s)}))}function uS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(gp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),bp(r))}function CE(r,t,n){for(const s of n)s instanceof iS?(r.Vu.addReference(s.key,t),IN(r,s)):s instanceof rS?(ot(Ap,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||uS(r,s.key)):gt(19791,{wu:s})}function IN(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ot(Ap,"New document in limbo: "+n),r.Eu.add(s),bp(r))}function bp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new yN(n)),r.Ru=r.Ru.insert(n,s),J0(r.remoteStore,new Gr(bi(op(n.path)),s,"TargetPurposeLimboResolution",Rh.ce))}}async function eu(r,t,n){const s=Tt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=mp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=Tt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(w=>J.forEach(w.Ts,(P=>E.persistence.referenceDelegate.addReference(S,w.targetId,P))).next((()=>J.forEach(w.Is,(P=>E.persistence.referenceDelegate.removeReference(S,w.targetId,P)))))))))}catch(S){if(!ho(S))throw S;ot(pp,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const P=E.vs.get(w),Z=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(Z);E.vs=E.vs.insert(w,Y)}}})(s.localStore,u))}async function DN(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){ot(Ap,"User change. New user:",t.toKey());const s=await Q0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ht(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await eu(n,s.Ns)}}function NN(r,t){const n=Tt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function cS(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wN.bind(null,t),t.Pu.J_=fN.bind(null,t.eventManager),t.Pu.yu=dN.bind(null,t.eventManager),t}function ON(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CN.bind(null,t),t}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return OD(this.persistence,new ID,t.initialUser,this.serializer)}Cu(t){return new K0(dp.Vi,this.serializer)}Du(t){return new kD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class VN extends gh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof mh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dD(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new K0((s=>mh.Vi(s,n)),this.serializer)}}class Vm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uN})()}createDatastore(t){const n=Lh(t.databaseInfo.databaseId),s=qD(t.databaseInfo);return YD(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,p){return new $D(s,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>RE(this.syncEngine,n,0)),(function(){return EE.v()?new EE:new zD})())}createSyncEngine(t,n){return(function(o,u,f,p,g,y,E){const S=new _N(o,u,f,p,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Tt(n);ot(Gs,"RemoteStore shutting down."),s.Ea.add(5),await tu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vm.provider={build:()=>new Vm};class MN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const is="FirestoreClient";class xN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ot(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ot(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Tp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function rm(r,t){r.asyncQueue.verifyOperationInProgress(),ot(is,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Q0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function IE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await LN(r);ot(is,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>SE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>SE(t.remoteStore,o))),r._onlineComponents=t}async function LN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(is,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new gh)}}else ot(is,"Using default OfflineComponentProvider"),await rm(r,new VN(void 0));return r._offlineComponents}async function hS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(is,"Using user provided OnlineComponentProvider"),await IE(r,r._uninitializedComponentsProvider._online)):(ot(is,"Using default OnlineComponentProvider"),await IE(r,new Vm))),r._onlineComponents}function UN(r){return hS(r).then((t=>t.syncEngine))}async function PN(r){const t=await hS(r),n=t.eventManager;return n.onListen=vN.bind(null,t.syncEngine),n.onUnlisten=SN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=EN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AN.bind(null,t.syncEngine),n}function kN(r,t,n={}){const s=new $r;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const E=new MN({next:w=>{E.Nu(),f.enqueueAndForget((()=>hN(u,S)));const P=w.docs.has(p);!P&&w.fromCache?y.reject(new ht(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&g&&g.source==="server"?y.reject(new ht(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new mN(op(p.path),E,{includeMetadataChanges:!0,Ka:!0});return cN(u,S)})(await PN(r),r.asyncQueue,t,n,s))),s.promise}function zN(r,t){const n=new $r;return r.asyncQueue.enqueueAndForget((async()=>bN(await UN(r),t,n))),n.promise}function fS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const BN="ComponentProvider",DE=new Map;function jN(r,t,n,s,o){return new nI(r,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,fS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const dS="firestore.googleapis.com",NE=!0;class OE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dS,this.ssl=NE}else this.host=t.host,this.ssl=t.ssl??NE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=G0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hD)throw new ht(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new LC;switch(s.type){case"firstParty":return new zC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=DE.get(n);s&&(ot(BN,"Removing Datastore"),DE.delete(n),s.terminate())})(this),Promise.resolve()}}function HN(r,t,n,s={}){r=ah(r,kh);const o=ao(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;o&&(hT(`https://${p}`),fT("Firestore",!0)),u.host!==dS&&u.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!js(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=rw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ht(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(S)}r._authCredentials=new UC(new n0(y,E))}}class wp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new wp(this.firestore,t,this._query)}}class ke{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Jl(n,ke._jsonSchema))return new ke(t,s||null,new mt(ne.fromString(n.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ce("string",ke._jsonSchemaVersion),referencePath:Ce("string")};class Jr extends wp{constructor(t,n,s){super(t,n,op(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new mt(t))}withConverter(t){return new Jr(this.firestore,t,this._path)}}function qN(r,t,...n){if(r=En(r),i0("collection","path",t),r instanceof kh){const s=ne.fromString(t,...n);return Gv(s),new Jr(r,null,s)}{if(!(r instanceof ke||r instanceof Jr))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return Gv(s),new Jr(r.firestore,null,s)}}function mS(r,t,...n){if(r=En(r),arguments.length===1&&(t=tp.newId()),i0("doc","path",t),r instanceof kh){const s=ne.fromString(t,...n);return Fv(s),new ke(r,null,new mt(s))}{if(!(r instanceof ke||r instanceof Jr))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return Fv(s),new ke(r.firestore,r instanceof Jr?r.converter:null,new mt(s))}}const VE="AsyncQueue";class ME{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X0(this,"async_queue_retry"),this._c=()=>{const s=im();s&&ot(VE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;ot(VE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",xE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Ep.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:xE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function xE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Rp extends kh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new ME,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ME(t),this._firestoreClient=void 0,await t}}}function FN(r,t){const n=typeof r=="object"?r:gT(),s=typeof r=="string"?r:lh,o=Hm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=nw("firestore");u&&HN(o,...u)}return o}function pS(r){if(r._terminated)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GN(r),r._firestoreClient}function GN(r){const t=r._freezeSettings(),n=jN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new xN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Qe.fromBase64String(t))}catch(n){throw new ht(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ln(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class gS{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Cp{constructor(t){this._methodName=t}}class Ri{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Jl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Wn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jl(t,Wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Wn(t.vectorValues);throw new ht(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Ce("string",Wn._jsonSchemaVersion),vectorValues:Ce("object")};const KN=/^__.*__$/;class QN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Xs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(t,this.data,n,this.fieldTransforms)}}function yS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class Ip{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Ip({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return yh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(yS(this.dataSource)&&KN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class YN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(t)}createContext(t,n,s,o=!1){return new Ip({dataSource:t,methodName:n,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XN(r){const t=r._freezeSettings(),n=Lh(r._databaseId);return new YN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function $N(r,t,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,t,n,o);TS("Data must be an object, but it was:",f,s);const p=vS(s,f);let g,y;if(u.merge)g=new Jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=Np(t,S,n);if(!f.contains(w))throw new ht(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);WN(E,w)||E.push(w)}g=new Jn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new QN(new xn(p),g,y)}class Dp extends Cp{_toFieldTransform(t){return new OI(t.path,new Bl)}isEqual(t){return t instanceof Dp}}function _S(r,t){if(ES(r=En(r)))return TS("Unsupported field value:",t,r),vS(r,t);if(r instanceof Cp)return(function(s,o){if(!yS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let g=_S(p,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return II(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ie.fromDate(s);return{timestampValue:dh(o.serializer,u)}}if(s instanceof ie){const u=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dh(o.serializer,u)}}if(s instanceof Ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:P0(o.serializer,s._byteString)};if(s instanceof ke){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wn)return(function(f,p){const g=f instanceof Wn?f.toArray():f;return{mapValue:{fields:{[f0]:{stringValue:d0},[uh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw p.createError("VectorValues must only contain numeric values.");return lp(p.serializer,E)}))}}}}}})(s,o);if(F0(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${ep(s)}`)})(r,t)}function vS(r,t){const n={};return a0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qs(r,((s,o)=>{const u=_S(o,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function ES(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ri||r instanceof Ln||r instanceof ke||r instanceof Cp||r instanceof Wn||F0(r))}function TS(r,t,n){if(!ES(n)||!r0(n)){const s=ep(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function Np(r,t,n){if((t=En(t))instanceof gS)return t._internalPath;if(typeof t=="string")return ZN(r,t);throw yh("Field path arguments must be of type string or ",r,!1,void 0,n)}const JN=new RegExp("[~\\*/\\[\\]]");function ZN(r,t,n){if(t.search(JN)>=0)throw yh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gS(...t.split("."))._internalPath}catch{throw yh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function yh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ht(W.INVALID_ARGUMENT,p+r+g)}function WN(r,t){return r.some((n=>n.isEqual(t)))}class tO{convertValue(t,n="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Qs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[uh].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Wn(n)}convertGeoPoint(t){return new Ri(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ih(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const n=Wr(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ft(q0(s),9688,{name:t});const o=new kl(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class eO extends tO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function nO(){return new Dp("serverTimestamp")}const LE="@firebase/firestore",UE="4.10.0";class SS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Np("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iO extends SS{data(){return super.data()}}function rO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class wl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends SS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Np("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ce("string",Bs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class $c extends Bs{data(t={}){return super.data(t)}}class Vl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new $c(this._firestore,this._userDataWriter,s.key,s,new wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new $c(o._firestore,o._userDataWriter,p.doc.key,p.doc,new wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new $c(o._firestore,o._userDataWriter,p.doc.key,p.doc,new wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:sO(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Vl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Vl._jsonSchemaVersion="firestore/querySnapshot/1.0",Vl._jsonSchema={type:Ce("string",Vl._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function aO(r){r=ah(r,ke);const t=ah(r.firestore,Rp),n=pS(t);return kN(n,r._key).then((s=>uO(t,r,s)))}function oO(r,t){const n=ah(r.firestore,Rp),s=mS(r),o=rO(r.converter,t),u=XN(r.firestore);return lO(n,[$N(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,tr.exists(!1))]).then((()=>s))}function lO(r,t){const n=pS(r);return zN(n,t)}function uO(r,t,n){const s=n.docs.get(t._key),o=new eO(r);return new Bs(r,o,t._key,s,new wl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){xC(oo),$a(new Hs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Rp(new PC(s.getProvider("auth-internal")),new BC(f,s.getProvider("app-check-internal")),iI(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Yr(LE,UE,t),Yr(LE,UE,"esm2020")})();const cO={apiKey:"AIzaSyCQMJ44gHcQByDkgP8HQsgNzKQ_jLu894U",authDomain:"vidoonoteschrome.firebaseapp.com",projectId:"vidoonoteschrome",storageBucket:"vidoonoteschrome.firebasestorage.app",messagingSenderId:"970342521566",appId:"1:970342521566:web:12f7af9e3f47125892404f",measurementId:"G-3QC49RP9SH"},AS=pT(cO),sm=NC(AS),hO=new $i,bS=FN(AS),wS=q.createContext(void 0);function fO({children:r}){const[t,n]=q.useState(null),[s,o]=q.useState(!0);q.useEffect(()=>{const p=_2(sm,g=>{n(g),o(!1)});return()=>p()},[]);const u=async()=>{try{await z2(sm,hO)}catch(p){throw console.error("Error signing in with Google",p),p}},f=async()=>{try{await v2(sm)}catch(p){throw console.error("Error signing out",p),p}};return et.jsx(wS.Provider,{value:{user:t,loading:s,signInWithGoogle:u,logout:f},children:!s&&r})}function RS(){const r=q.useContext(wS);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r}var CS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PE=ks.createContext&&ks.createContext(CS),dO=["attr","size","title"];function mO(r,t){if(r==null)return{};var n=pO(r,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function pO(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function _h(){return _h=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},_h.apply(this,arguments)}function kE(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function vh(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(s){gO(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function gO(r,t,n){return t=yO(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function yO(r){var t=_O(r,"string");return typeof t=="symbol"?t:t+""}function _O(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function IS(r){return r&&r.map((t,n)=>ks.createElement(t.tag,vh({key:n},t.attr),IS(t.child)))}function nu(r){return t=>ks.createElement(vO,_h({attr:vh({},r.attr)},t),IS(r.child))}function vO(r){var t=n=>{var{attr:s,size:o,title:u}=r,f=mO(r,dO),p=o||n.size||"1em",g;return n.className&&(g=n.className),r.className&&(g=(g?g+" ":"")+r.className),ks.createElement("svg",_h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:vh(vh({color:r.color||n.color},n.style),r.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&ks.createElement("title",null,u),r.children)};return PE!==void 0?ks.createElement(PE.Consumer,null,n=>t(n)):t(CS)}function EO(r){return nu({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(r)}function DS(r){return nu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(r)}function TO(r){return nu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(r)}function SO(r){return nu({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function AO(r){return nu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(r)}const NS=({showTutorial:r=!0})=>{const[t,n]=q.useState(""),[s,o]=q.useState("General Feedback"),[u,f]=q.useState(""),[p,g]=q.useState(""),[y,E]=q.useState(!1),S=async w=>{w.preventDefault(),E(!0),g("Sending");try{await oO(qN(bS,"feedback"),{email:t||null,type:s,message:u,createdAt:nO(),source:"homepage_react"}),g(" Thanks for your feedback!"),n(""),f(""),o("General Feedback")}catch(P){g(" Failed to send feedback"),console.error(P)}finally{E(!1)}};return et.jsxs("div",{className:"home-content",children:[r&&et.jsxs("div",{className:"section",children:[et.jsx("h2",{children:" How VidooNotes Works"}),et.jsx("p",{children:"Watch this short tutorial to see how VidooNotes lets you draw, write, and save notes synchronized with video timestamps."}),et.jsx("iframe",{width:"100%",height:"360",src:"https://www.youtube.com/embed/aVKI_2vZO30",title:"VidooNotes demo",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0,style:{borderRadius:"8px",marginTop:"20px"}})]}),et.jsxs("div",{className:"section",children:[et.jsx("h2",{children:" Send Feedback"}),et.jsx("p",{children:"Found a bug or have a feature idea? Your feedback directly shapes VidooNotes."}),et.jsxs("form",{id:"feedbackForm",onSubmit:S,className:"feedback-form",children:[et.jsx("input",{type:"email",placeholder:"Your email (optional)",value:t,onChange:w=>n(w.target.value)}),et.jsxs("select",{value:s,onChange:w=>o(w.target.value),children:[et.jsx("option",{children:"General Feedback"}),et.jsx("option",{children:"Bug Report"}),et.jsx("option",{children:"Feature Request"})]}),et.jsx("textarea",{rows:5,placeholder:"Tell us what you think",required:!0,value:u,onChange:w=>f(w.target.value)}),et.jsx("button",{type:"submit",disabled:y,children:y?"Sending...":"Send Feedback"}),et.jsx("p",{className:"status-message",children:p})]})]}),et.jsxs("footer",{children:[et.jsx("p",{children:"Contact: pawangami@gmail.com"}),et.jsxs("p",{children:[et.jsx("a",{href:"/privacy.html",children:"Privacy Policy"})," ",et.jsx("a",{href:"/EULA.txt",target:"_blank",rel:"noopener noreferrer",children:"EULA"})]})]})]})},bO=r=>{if(!r)return null;const t=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/i,n=r.match(t);if(n&&n[1])return`https://www.youtube.com/embed/${n[1]}`;const s=/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i,o=r.match(s);if(o&&o[1])return`https://player.vimeo.com/video/${o[1]}`;const u=/(?:dailymotion\.com(?:\/video|\/hub)|Dai\.ly)\/([0-9a-z]+)(?:[\-_0-9a-zA-Z]+#video=([a-z0-9]+))?/i,f=r.match(u);return f&&f[1]?`https://www.dailymotion.com/embed/video/${f[1]}`:null},wO=()=>{const{user:r,signInWithGoogle:t,loading:n}=RS(),s=Lm(),[o,u]=q.useState(""),[f,p]=q.useState("https://www.youtube.com/embed/aVKI_2vZO30");q.useEffect(()=>{r&&s("/dashboard")},[r,s]);const g=y=>{y.preventDefault();const E=bO(o);E?p(E):alert("Invalid video URL. Please support YouTube, Vimeo, or Dailymotion.")};return n?et.jsx("div",{className:"loading",children:"Loading..."}):et.jsxs("div",{className:"landing-page",children:[et.jsx("header",{className:"landing-header",children:et.jsxs("div",{className:"logo-row",children:[et.jsx(AO,{size:28,color:"#fbbc04"}),et.jsx("h1",{children:"VidooNotes"})]})}),et.jsxs("section",{className:"hero-section",children:[et.jsxs("div",{className:"hero-content",children:[et.jsx("h1",{className:"hero-title",children:"Your Personal Video Knowledge Base"}),et.jsx("p",{className:"hero-subtitle",children:"Take synchronized notes, draw on videos, and build your learning library directly from YouTube."}),et.jsx("div",{className:"login-card-hero",children:et.jsxs("button",{className:"google-btn big-btn",onClick:t,children:[et.jsx(EO,{className:"icon"}),et.jsx("span",{children:"Sign in with Google"})]})}),et.jsxs("form",{className:"video-url-form",onSubmit:g,children:[et.jsx("p",{className:"form-label",children:"Try it out now:"}),et.jsxs("div",{className:"input-group",children:[et.jsx("input",{type:"text",placeholder:"Paste YouTube, Vimeo, or Dailymotion link...",value:o,onChange:y=>u(y.target.value)}),et.jsx("button",{type:"submit",className:"play-btn",children:et.jsx(DS,{})})]})]})]}),et.jsx("div",{className:"hero-media",children:et.jsx("iframe",{width:"100%",height:"315",src:f,title:"VidooNotes demo",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0,style:{borderRadius:"12px",boxShadow:"0 20px 40px rgba(0,0,0,0.1)"}})})]}),et.jsx("div",{className:"content-container",children:et.jsx(NS,{showTutorial:!1})})]})},RO=({video:r,onClick:t})=>{const s=`https://img.youtube.com/vi/${r.videoId||r.id}/mqdefault.jpg`;return et.jsxs("div",{className:"video-card",onClick:()=>t(r),children:[et.jsxs("div",{className:"thumbnail-container",children:[et.jsx("img",{src:s,alt:r.videoTitle}),et.jsx("div",{className:"play-overlay",children:et.jsx(DS,{})})]}),et.jsxs("div",{className:"card-content",children:[et.jsx("h3",{children:r.videoTitle||"Untitled Video"}),et.jsxs("p",{className:"note-count",children:[r.notes?.length||0," notes"]}),r.updatedAt&&et.jsx("span",{className:"date",children:new Date(r.updatedAt?.seconds*1e3).toLocaleDateString()})]})]})},CO=({video:r,onClose:t})=>{const n=r.videoId||r.id,s=u=>{const f=document.getElementById("youtube-player");f&&(f.src=`https://www.youtube.com/embed/${n}?start=${Math.floor(u)}&autoplay=1`)},o=u=>{const f=Math.floor(u/60),p=Math.floor(u%60);return`${f}:${p.toString().padStart(2,"0")}`};return et.jsx("div",{className:"modal-overlay",onClick:t,children:et.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[et.jsx("button",{className:"close-button",onClick:t,children:et.jsx(SO,{})}),et.jsx("div",{className:"player-section",children:et.jsx("iframe",{id:"youtube-player",width:"100%",height:"100%",src:`https://www.youtube.com/embed/${n}?autoplay=1`,title:r.videoTitle,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),et.jsxs("div",{className:"notes-sidebar",children:[et.jsx("h3",{children:r.videoTitle}),et.jsx("div",{className:"notes-list",children:r.notes&&r.notes.length>0?r.notes.map(u=>et.jsxs("div",{className:"note-item",onClick:()=>s(u.startTime),children:[et.jsx("span",{className:"timestamp",children:o(u.startTime)}),et.jsx("p",{className:"note-text",children:u.text||(u.shapes?"Drawing Note":"No text")})]},u.id)):et.jsx("p",{className:"no-notes",children:"No notes for this video."})})]})]})})},IO=()=>{const{user:r,logout:t,loading:n}=RS(),[s,o]=q.useState([]),[u,f]=q.useState(!0),[p,g]=q.useState(null),y=Lm();return q.useEffect(()=>{!n&&!r&&y("/")},[r,n,y]),q.useEffect(()=>{r&&(async()=>{if(r)try{const S=mS(bS,"users",r.uid);aO(S).then(w=>{if(!w.exists()){console.log("No notes found");return}const Z=w.data()?.videos??{},Y=Object.entries(Z).map(([F,nt])=>({id:F,videoId:F,...nt}));Y.sort((F,nt)=>{const tt=F.updatedAt?.seconds?new Date(F.updatedAt.seconds*1e3).getTime():0;return(nt.updatedAt?.seconds?new Date(nt.updatedAt.seconds*1e3).getTime():0)-tt}),o(Y)}).catch(w=>{console.error("Error fetching videos:",w)})}catch(S){console.error("Error fetching videos:",S)}finally{f(!1)}})()},[r]),n||u&&r?et.jsx("div",{className:"loading",children:"Loading videos..."}):et.jsxs("div",{className:"dashboard",children:[et.jsxs("header",{className:"app-header",children:[et.jsx("div",{className:"logo-section",children:et.jsx("h2",{children:"VidooNotes"})}),et.jsxs("div",{className:"user-section",children:[et.jsx("img",{src:r?.photoURL||"",alt:r?.displayName||"User",className:"avatar"}),et.jsx("button",{onClick:t,className:"logout-btn",title:"Logout",children:et.jsx(TO,{})})]})]}),et.jsx("main",{className:"notes-grid",children:s.length===0?et.jsx("div",{className:"empty-state",children:et.jsx("p",{children:"No notes found. Use the VidooNotes Chrome Extension to create notes!"})}):s.map(E=>et.jsx(RO,{video:E,onClick:g},E.id))}),p&&et.jsx(CO,{video:p,onClose:()=>g(null)}),et.jsx("div",{style:{maxWidth:"720px",margin:"40px auto 0",padding:"0 20px"},children:et.jsx(NS,{})})]})};function DO(){return et.jsx(fO,{children:et.jsx(kb,{children:et.jsxs(mb,{children:[et.jsx(om,{path:"/",element:et.jsx(wO,{})}),et.jsx(om,{path:"/dashboard",element:et.jsx(IO,{})})]})})})}yA.createRoot(document.getElementById("root")).render(et.jsx(q.StrictMode,{children:et.jsx(DO,{})}));
